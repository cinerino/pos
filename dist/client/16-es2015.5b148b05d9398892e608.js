(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{AL2A:function(t,e,n){"use strict";n.r(e),n.d(e,"SettingModule",(function(){return lt}));var o=n("2kYt"),r=n("DSWM"),i=n("sEIs"),c=n("RRjC"),s=n("nIj0"),a=n("sN6X"),l=n("ddJ1"),d=n("x8Mb"),p=n("PIN6"),u=n("cHUu"),m=n("mOXJ"),f=n("UH/6"),g=n("EM62"),h=n("s2Ay"),v=n("OSFB"),y=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}a((o=o.apply(t,e||[])).next())}))};const w=["intlTelInput"];function F(t,e){if(1&t&&(g.Pc(0,"p"),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t){const t=g.Yc(2).$implicit;g.wc(1),g.Ad(g.ad(2,1,"form.label."+t))}}function I(t,e){if(1&t&&(g.Pc(0,"p"),g.zd(1),g.Zc(2,"changeLanguage"),g.Oc()),2&t){const t=g.Yc(2).$implicit,e=g.Yc(2);var n;g.wc(1),g.Bd(" ",g.ad(2,1,null==(n=e.getAdditionalProperty(t))?null:n.label),"")}}function P(t,e){1&t&&(g.Pc(0,"p",28),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd("",g.ad(2,1,"form.required")," "))}function O(t,e){if(1&t&&(g.Kc(0,"input",29),g.Zc(1,"translate")),2&t){const t=g.Yc(2).$implicit;g.ed("formControlName",t)("id",t)("placeholder",g.ad(1,3,"form.placeholder."+t))}}function b(t,e){if(1&t&&(g.Pc(0,"option",33),g.zd(1),g.Zc(2,"changeLanguage"),g.Oc()),2&t){const t=e.$implicit;g.ed("value",t.id),g.wc(1),g.Bd(" ",g.ad(2,2,t.name),"")}}function x(t,e){if(1&t){const t=g.Qc();g.Pc(0,"select",30),g.Wc("change",(function(){g.rd(t);return g.Yc(4).changeTheater()})),g.Pc(1,"option",31),g.zd(2),g.Zc(3,"translate"),g.Oc(),g.xd(4,b,3,4,"option",32),g.Oc()}if(2&t){const t=g.Yc(2).$implicit,e=g.Yc(2);g.ed("formControlName",t),g.wc(2),g.Ad(g.ad(3,3,"setting.unselected")),g.wc(2),g.ed("ngForOf",e.theaters)}}function C(t,e){if(1&t&&(g.Pc(0,"option",33),g.zd(1),g.Oc()),2&t){const t=e.$implicit;g.ed("value",t.id),g.wc(1),g.Ad(t.name)}}function A(t,e){if(1&t&&(g.Pc(0,"select",34),g.Pc(1,"option",31),g.zd(2),g.Zc(3,"translate"),g.Oc(),g.xd(4,C,2,2,"option",32),g.Oc()),2&t){const t=g.Yc(2).$implicit,e=g.Yc(2);g.ed("formControlName",t),g.wc(2),g.Ad(g.ad(3,3,"setting.unselected")),g.wc(2),g.ed("ngForOf",e.posList)}}function N(t,e){if(1&t&&(g.Pc(0,"option",33),g.zd(1),g.Zc(2,"changeLanguage"),g.Oc()),2&t){const t=e.$implicit;g.ed("value",t.identifier),g.wc(1),g.Bd(" ",g.ad(2,2,t.name),"")}}function S(t,e){if(1&t&&(g.Pc(0,"select",34),g.Pc(1,"option",31),g.zd(2),g.Zc(3,"translate"),g.Oc(),g.xd(4,N,3,4,"option",32),g.Oc()),2&t){const t=g.Yc(2).$implicit,e=g.Yc(2);g.ed("formControlName",t),g.wc(2),g.Ad(g.ad(3,3,"setting.unselected")),g.wc(2),g.ed("ngForOf",e.entranceGateList)}}function T(t,e){if(1&t&&(g.Pc(0,"option",33),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t){const t=e.$implicit;g.ed("value",t.connectionType),g.wc(1),g.Bd(" ",g.ad(2,2,t.name),"")}}function L(t,e){if(1&t){const t=g.Qc();g.Pc(0,"select",30),g.Wc("change",(function(){g.rd(t);return g.Yc(4).changePrinterType()})),g.xd(1,T,3,4,"option",32),g.Oc()}if(2&t){const t=g.Yc(2).$implicit,e=g.Yc(2);g.ed("formControlName",t),g.wc(1),g.ed("ngForOf",e.printers)}}function Y(t,e){if(1&t&&(g.Pc(0,"select",35),g.Pc(1,"option",36),g.zd(2),g.Zc(3,"translate"),g.Oc(),g.Pc(4,"option",37),g.zd(5),g.Zc(6,"translate"),g.Oc(),g.Oc()),2&t){const t=g.Yc(2).$implicit;g.ed("formControlName",t)("id",t),g.wc(2),g.Ad(g.ad(3,4,"form.option.false")),g.wc(3),g.Ad(g.ad(6,6,"form.option.true"))}}function Z(t,e){if(1&t&&(g.Kc(0,"input",38),g.Zc(1,"translate")),2&t){const t=g.Yc(2).$implicit;g.ed("formControlName",t)("id",t)("placeholder",g.ad(1,3,"form.placeholder."+t))}}const z=function(t){return[t]},k=function(t,e){return[t,e]};function G(t,e){if(1&t&&g.Kc(0,"ngx-intl-tel-input",39,40),2&t){const t=g.Yc(4);g.ed("preferredCountries",g.hd(11,z,t.CountryISO.Japan))("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",g.id(13,k,t.SearchCountryField.Iso2,t.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",t.CountryISO.Japan)("maxLength",15)("tooltipField",t.TooltipLabel.Name)("phoneValidation",!0)("separateDialCode",!1)}}function $(t,e){if(1&t&&(g.Pc(0,"option",33),g.zd(1),g.Zc(2,"changeLanguage"),g.Oc()),2&t){const t=e.$implicit;g.ed("value",t.value),g.wc(1),g.Bd(" ",g.ad(2,2,t.label)," ")}}function B(t,e){if(1&t&&(g.Pc(0,"select",35),g.xd(1,$,3,4,"option",32),g.Oc()),2&t){const t=g.Yc(2).$implicit;var n;const e=null==(n=g.Yc(2).getProfileProperty(t))?null:n.option;g.ed("formControlName",t)("id",t),g.wc(1),g.ed("ngForOf",e)}}function J(t,e){if(1&t&&g.Kc(0,"input",41),2&t){const t=g.Yc(2).$implicit;g.ed("formControlName",t)("id",t)}}function E(t,e){if(1&t&&g.Kc(0,"textarea",42),2&t){const t=g.Yc(2).$implicit;g.ed("formControlName",t)("id",t)}}function V(t,e){if(1&t&&(g.Pc(0,"option",33),g.zd(1),g.Zc(2,"changeLanguage"),g.Oc()),2&t){const t=e.$implicit;g.ed("value",t.value),g.wc(1),g.Bd(" ",g.ad(2,2,t.label)," ")}}function j(t,e){if(1&t&&(g.Pc(0,"select",42),g.xd(1,V,3,4,"option",32),g.Oc()),2&t){const t=g.Yc(2).$implicit;var n;const e=null==(n=g.Yc(2).getAdditionalProperty(t))?null:n.option;g.ed("formControlName",t)("id",t),g.wc(1),g.ed("ngForOf",e)}}function q(t,e){1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd(" ",g.ad(2,1,"form.validation.required")," "))}const D=function(t){return{value:t}};function K(t,e){if(1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t){const t=g.Yc(3).$implicit,e=g.Yc(2);g.wc(1),g.Bd(" ",g.bd(2,1,"form.validation.maxlength",g.hd(4,D,null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.maxlength.requiredLength))," ")}}function R(t,e){if(1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t){const t=g.Yc(3).$implicit,e=g.Yc(2);g.wc(1),g.Bd(" ",g.bd(2,1,"form.validation.minlength",g.hd(4,D,null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.minlength.requiredLength))," ")}}function M(t,e){1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd(" ",g.ad(2,1,"form.validation.email")," "))}function U(t,e){1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd(" ",g.ad(2,1,"form.validation.telephone")," "))}function H(t,e){1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd(" ",g.ad(2,1,"form.validation.fullKana"),""))}function Q(t,e){1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd(" ",g.ad(2,1,"form.validation.lowercaseLetters"),""))}function W(t,e){if(1&t&&(g.Pc(0,"div"),g.xd(1,H,3,3,"p",44),g.Zc(2,"async"),g.xd(3,Q,3,3,"p",44),g.Zc(4,"async"),g.Oc()),2&t){const t=g.Yc(3).$implicit,e=g.Yc(2);var n;const r="ja"===(null==(n=g.ad(2,2,e.user))?null:n.language)&&(null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.customPattern);var o;const i="ja"!==(null==(o=g.ad(4,4,e.user))?null:o.language)&&(null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.customPattern);g.wc(1),g.ed("ngIf",r),g.wc(2),g.ed("ngIf",i)}}function X(t,e){1&t&&(g.Pc(0,"p",45),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd(" ",g.ad(2,1,"form.validation.pattern")," "))}function _(t,e){if(1&t&&(g.Pc(0,"div",43),g.xd(1,q,3,3,"p",44),g.xd(2,K,3,6,"p",44),g.xd(3,R,3,6,"p",44),g.xd(4,M,3,3,"p",44),g.xd(5,U,3,3,"p",44),g.xd(6,W,5,6,"div",15),g.xd(7,X,3,3,"p",44),g.Oc()),2&t){const t=g.Yc(2).$implicit,e=g.Yc(2);g.wc(1),g.ed("ngIf",null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.required),g.wc(1),g.ed("ngIf",null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.maxlength),g.wc(1),g.ed("ngIf",null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.minlength),g.wc(1),g.ed("ngIf",null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.email),g.wc(1),g.ed("ngIf",null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.validatePhoneNumber),g.wc(1),g.ed("ngIf","familyName"===t||"givenName"===t),g.wc(1),g.ed("ngIf",null==e.settingForm.controls[t].errors?null:e.settingForm.controls[t].errors.pattern)}}function tt(t,e){if(1&t){const t=g.Qc();g.Pc(0,"div"),g.Pc(1,"button",46),g.Wc("click",(function(){g.rd(t);return g.Yc(4).print()})),g.zd(2),g.Zc(3,"translate"),g.Oc(),g.Oc()}if(2&t){const t=g.Yc(4);g.wc(1),g.ed("disabled",t.settingForm.controls.printerType.value===t.connectionType.None),g.wc(1),g.Ad(g.ad(3,2,"setting.testPrinting"))}}function et(t,e){1&t&&(g.Pc(0,"p",47),g.zd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.Bd(" ",g.ad(2,1,"setting.printerIpAddressDescription")," "))}function nt(t,e){if(1&t){const t=g.Qc();g.Pc(0,"div"),g.Pc(1,"button",46),g.Wc("click",(function(){g.rd(t);return g.Yc(4).openDrawer()})),g.zd(2),g.Zc(3,"translate"),g.Oc(),g.Pc(4,"p",47),g.zd(5),g.Zc(6,"translate"),g.Oc(),g.Oc()}if(2&t){const t=g.Yc(4);g.wc(1),g.ed("disabled","0"===t.settingForm.controls.drawer.value),g.wc(1),g.Ad(g.ad(3,3,"setting.openDrawer")),g.wc(3),g.Bd(" ",g.ad(6,5,"setting.drawerDescription")," ")}}function ot(t,e){if(1&t&&(g.Pc(0,"div",12),g.Pc(1,"div",13),g.Pc(2,"div",14),g.xd(3,F,3,3,"p",15),g.xd(4,I,3,3,"p",15),g.xd(5,P,3,3,"p",16),g.Oc(),g.Oc(),g.Pc(6,"div",17),g.xd(7,O,2,5,"input",18),g.xd(8,x,5,5,"select",19),g.xd(9,A,5,5,"select",20),g.xd(10,S,5,5,"select",20),g.xd(11,L,2,2,"select",19),g.xd(12,Y,7,8,"select",21),g.xd(13,Z,2,5,"input",22),g.xd(14,G,2,16,"ngx-intl-tel-input",23),g.xd(15,B,2,3,"select",21),g.xd(16,J,1,2,"input",24),g.xd(17,E,1,2,"textarea",25),g.xd(18,j,2,3,"select",25),g.xd(19,_,8,7,"div",26),g.xd(20,tt,4,4,"div",15),g.xd(21,et,3,3,"p",27),g.xd(22,nt,7,7,"div",15),g.Oc(),g.Oc()),2&t){const t=g.Yc().$implicit,e=g.Yc(2);var n=null;const i=e.getAdditionalProperty(t)&&"input"===(null==(n=e.getAdditionalProperty(t))?null:n.inputType);var o;const c="textarea"===(null==(o=e.getAdditionalProperty(t))?null:o.inputType);var r=null;const s=e.getAdditionalProperty(t)&&"select"===(null==(r=e.getAdditionalProperty(t))?null:r.inputType);g.wc(3),g.ed("ngIf",!e.getAdditionalProperty(t)),g.wc(1),g.ed("ngIf",e.getAdditionalProperty(t)),g.wc(1),g.ed("ngIf",e.isRequired(t)),g.wc(2),g.ed("ngIf","theaterId"!==t&&"posId"!==t&&"entranceGateId"!==t&&"printerType"!==t&&"email"!==t&&"telephone"!==t&&"gender"!==t&&"drawer"!==t&&!e.getAdditionalProperty(t)),g.wc(1),g.ed("ngIf","theaterId"===t),g.wc(1),g.ed("ngIf","posId"===t),g.wc(1),g.ed("ngIf","entranceGateId"===t),g.wc(1),g.ed("ngIf","printerType"===t),g.wc(1),g.ed("ngIf","drawer"===t),g.wc(1),g.ed("ngIf","email"===t),g.wc(1),g.ed("ngIf","telephone"===t),g.wc(1),g.ed("ngIf","gender"===t),g.wc(1),g.ed("ngIf",i),g.wc(1),g.ed("ngIf",c),g.wc(1),g.ed("ngIf",s),g.wc(1),g.ed("ngIf",e.settingForm.controls[t].invalid&&e.settingForm.controls[t].touched),g.wc(1),g.ed("ngIf","printerType"===t),g.wc(1),g.ed("ngIf","printerIpAddress"===t),g.wc(1),g.ed("ngIf","drawer"===t)}}function rt(t,e){if(1&t&&(g.Nc(0),g.xd(1,ot,23,19,"div",11),g.Mc()),2&t){const t=e.$implicit,n=g.Yc(2);g.wc(1),g.ed("ngIf",!("posId"===t&&0===n.posList.length||"entranceGateId"===t&&0===n.entranceGateList.length))}}function it(t,e){if(1&t){const t=g.Qc();g.Pc(0,"form",2),g.Pc(1,"div",3),g.Pc(2,"h2",4),g.zd(3),g.Zc(4,"translate"),g.Oc(),g.Kc(5,"p",5),g.Zc(6,"translate"),g.Pc(7,"div",6),g.xd(8,rt,2,1,"ng-container",7),g.Oc(),g.Oc(),g.Pc(9,"div",8),g.Pc(10,"button",9),g.Wc("click",(function(){g.rd(t);return g.Yc().onSubmit()})),g.Zc(11,"async"),g.zd(12),g.Zc(13,"translate"),g.Oc(),g.Pc(14,"button",10),g.zd(15),g.Zc(16,"translate"),g.Oc(),g.Oc(),g.Oc()}if(2&t){const t=g.Yc();g.ed("formGroup",t.settingForm),g.wc(3),g.Ad(g.ad(4,8,"setting.title")),g.wc(2),g.ed("innerHTML",g.ad(6,10,"setting.read"),g.sd),g.wc(3),g.ed("ngForOf",t.getProfileFormKeys()),g.wc(2),g.ed("disabled",g.ad(11,12,t.isLoading)),g.wc(2),g.Ad(g.ad(13,14,"setting.next")),g.wc(2),g.ed("routerLink",t.environment.BASE_URL),g.wc(1),g.Ad(g.ad(16,16,"setting.prev"))}}class ct{constructor(t,e,n,o,r,i,c){this.formBuilder=t,this.store=e,this.utilService=n,this.actionService=o,this.masterService=r,this.translate=i,this.router=c,this.printers=d.b.Util.Printer.printers,this.connectionType=d.b.Util.Printer.ConnectionType,this.viewType=d.b.Util.ViewType,this.environment=Object(p.a)(),this.SearchCountryField=l.e,this.TooltipLabel=l.f,this.CountryISO=l.a}ngOnInit(){return y(this,void 0,void 0,(function*(){this.user=this.store.pipe(Object(a.m)(m.i)),this.error=this.store.pipe(Object(a.m)(m.b)),this.isLoading=this.store.pipe(Object(a.m)(m.c)),this.theaters=[],this.posList=[],this.entranceGateList=[];try{this.theaters=yield this.masterService.searchMovieTheaters(),yield this.createSettlingForm()}catch(t){console.error(t),this.router.navigate(["/error"])}setTimeout(()=>{if(void 0===this.intlTelInput)return;const t=this.intlTelInput.allCountries.find(t=>t.iso2===l.a.Japan);void 0!==t&&(t.placeHolder=this.translate.instant("form.placeholder.telephone"))},0)}))}createSettlingForm(){return y(this,void 0,void 0,(function*(){const t=this.environment.PROFILE;this.settingForm=this.formBuilder.group({theaterId:["",[s.s.required]],posId:[""],entranceGateId:[""],printerType:[d.b.Util.Printer.ConnectionType.None],printerIpAddress:[""],drawer:[!1]}),t.forEach(t=>{const e=[];void 0!==t.required&&t.required&&e.push(s.s.required),void 0!==t.maxLength&&e.push(s.s.maxLength(t.maxLength)),void 0!==t.minLength&&e.push(s.s.minLength(t.minLength)),void 0!==t.pattern&&e.push(s.s.pattern(t.pattern)),"email"===t.key&&e.push(s.s.email),this.settingForm.addControl(t.key,new s.c(t.value,e))});const e=yield this.actionService.user.getData();void 0!==e.theater&&(this.settingForm.controls.theaterId.setValue(e.theater.id),this.changeTheater()),void 0!==e.pos&&this.settingForm.controls.posId.setValue(e.pos.id),void 0!==e.entranceGate&&void 0!==e.entranceGate.identifier&&this.settingForm.controls.entranceGateId.setValue(e.entranceGate.identifier);const n=e.customerContact;if(void 0!==n){Object.keys(n).forEach(t=>{const e=n[t];void 0!==e&&void 0!==this.settingForm.controls[t]&&("telephone"!==t?this.settingForm.controls[t].setValue(e):this.settingForm.controls.telephone.setValue((new f.a).transform(e)))});const t=n.additionalProperty;if(void 0===t)return;t.forEach(t=>{const e="additionalProperty."+t.name,n=t.value;void 0!==n&&void 0!==this.settingForm.controls[e]&&this.settingForm.controls[e].setValue(n)})}void 0!==e.printer&&(this.settingForm.controls.printerType.setValue(e.printer.connectionType),this.settingForm.controls.printerIpAddress.setValue(e.printer.ipAddress)),this.settingForm.controls.drawer.setValue(void 0!==e.drawer&&e.drawer?"1":"0")}))}changeTheater(){this.settingForm.controls.posId.setValue(""),this.settingForm.controls.entranceGateId.setValue("");const t=this.settingForm.controls.theaterId.value,e=this.theaters.find(e=>e.id===t);if(""===t||void 0===e)return this.posList=[],void(this.entranceGateList=[]);this.posList=void 0===e.hasPOS?[]:e.hasPOS,this.entranceGateList=void 0===e.hasEntranceGate?[]:e.hasEntranceGate}onSubmit(){return y(this,void 0,void 0,(function*(){if(Object.keys(this.settingForm.controls).forEach(t=>{this.settingForm.controls[t].markAsTouched()}),this.settingForm.invalid)this.utilService.openAlert({title:this.translate.instant("common.error"),body:this.translate.instant("setting.alert.validation")});else try{const t=this.settingForm.controls.theaterId.value,e=this.settingForm.controls.posId.value,n=this.settingForm.controls.entranceGateId.value,o=this.theaters.find(e=>e.id===t);if(void 0===o)throw new Error("theater not found");const r=void 0===o.hasPOS?void 0:o.hasPOS.find(t=>t.id===e),i=void 0===o.hasEntranceGate?void 0:o.hasEntranceGate.find(t=>t.identifier===n),c=[];Object.keys(this.settingForm.controls).forEach(t=>{/additionalProperty/.test(t)&&c.push({name:t.replace("additionalProperty.",""),value:this.settingForm.controls[t].value})}),this.actionService.user.updateAll({theater:o,pos:r,entranceGate:i,customerContact:{familyName:void 0===this.settingForm.controls.familyName?void 0:this.settingForm.controls.familyName.value,givenName:void 0===this.settingForm.controls.givenName?void 0:this.settingForm.controls.givenName.value,email:void 0===this.settingForm.controls.email?void 0:this.settingForm.controls.email.value,telephone:void 0===this.settingForm.controls.telephone?void 0:this.settingForm.controls.telephone.value.e164Number,age:void 0===this.settingForm.controls.age?void 0:this.settingForm.controls.age.value,address:void 0===this.settingForm.controls.address?void 0:this.settingForm.controls.address.value,gender:void 0===this.settingForm.controls.gender?void 0:this.settingForm.controls.gender.value,additionalProperty:c},printer:{ipAddress:this.settingForm.controls.printerIpAddress.value,connectionType:this.settingForm.controls.printerType.value},drawer:"0"!==this.settingForm.controls.drawer.value}),this.utilService.openAlert({title:this.translate.instant("common.complete"),body:this.translate.instant("setting.alert.success")})}catch(t){console.error(t),this.utilService.openAlert({title:this.translate.instant("common.error"),body:"",error:"{}"===JSON.stringify(t)?t:JSON.stringify(t)})}}))}print(){return y(this,void 0,void 0,(function*(){const t={connectionType:this.settingForm.controls.printerType.value,ipAddress:this.settingForm.controls.printerIpAddress.value};try{yield this.actionService.order.print({orders:[],printer:t})}catch(e){console.error(e),this.utilService.openAlert({title:this.translate.instant("common.error"),body:this.translate.instant("setting.alert.print"),error:"{}"===JSON.stringify(e)?e:JSON.stringify(e)})}}))}openDrawer(){return y(this,void 0,void 0,(function*(){const t={connectionType:this.settingForm.controls.printerType.value,ipAddress:this.settingForm.controls.printerIpAddress.value};try{yield this.actionService.order.openDrawer({printer:t})}catch(e){this.utilService.loadEnd(),console.error(e),this.utilService.openAlert({title:this.translate.instant("common.error"),body:this.translate.instant("setting.alert.drawer"),error:"{}"===JSON.stringify(e)?e:JSON.stringify(e)})}}))}changePrinterType(){this.settingForm.controls.printerType.value===d.b.Util.Printer.ConnectionType.StarBluetooth&&this.settingForm.controls.printerIpAddress.setValue(this.translate.instant("setting.starBluetoothAddress"))}isRequired(t){return"theaterId"===t||void 0!==this.environment.PROFILE.find(e=>e.key===t&&e.required)}getProfileFormKeys(){return Object.keys(this.settingForm.controls)}getProfileProperty(t){return this.environment.PROFILE.find(e=>e.key===t)}getAdditionalProperty(t){return this.environment.PROFILE.find(e=>/additionalProperty/.test(e.key)&&e.key===t)}}ct.\u0275fac=function(t){return new(t||ct)(g.Jc(s.b),g.Jc(a.b),g.Jc(u.f),g.Jc(u.a),g.Jc(u.d),g.Jc(h.d),g.Jc(i.b))},ct.\u0275cmp=g.Dc({type:ct,selectors:[["app-setting"]],viewQuery:function(t,e){var n;(1&t&&g.Fd(w,!0),2&t)&&(g.nd(n=g.Xc())&&(e.intlTelInput=n.first))},decls:2,vars:1,consts:[[1,"contents-width","mx-auto","px-3","py-5"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"mb-4"],[1,"text-large","mb-4","text-center","font-weight-bold"],[1,"mb-4","text-md-center",3,"innerHTML"],[1,"p-3","bg-white"],[4,"ngFor","ngForOf"],[1,"buttons","mx-auto","text-center"],["type","submit",1,"btn","btn-primary","btn-block","py-3","mb-3",3,"disabled","click"],["type","button",1,"btn","btn-outline-primary","btn-block","py-3",3,"routerLink"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],[1,"col-md-4","py-2","text-md-right"],[1,"d-inline-flex","align-items-center"],[4,"ngIf"],["class","badge badge-danger ml-2",4,"ngIf"],[1,"col-md-8"],["type","text","class","form-control",3,"formControlName","id","placeholder",4,"ngIf"],["class","form-control",3,"formControlName","change",4,"ngIf"],["class","form-control",3,"formControlName",4,"ngIf"],["class","form-control",3,"formControlName","id",4,"ngIf"],["type","email","class","form-control",3,"formControlName","id","placeholder",4,"ngIf"],["inputId","telephone","name","telephone","formControlName","telephone",3,"preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","tooltipField","phoneValidation","separateDialCode",4,"ngIf"],["type","text","class","form-control","placeholder","",3,"formControlName","id",4,"ngIf"],["class","form-control","placeholder","",3,"formControlName","id",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","text-small mt-2",4,"ngIf"],[1,"badge","badge-danger","ml-2"],["type","text",1,"form-control",3,"formControlName","id","placeholder"],[1,"form-control",3,"formControlName","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control",3,"formControlName"],[1,"form-control",3,"formControlName","id"],["value","0"],["value","1"],["type","email",1,"form-control",3,"formControlName","id","placeholder"],["inputId","telephone","name","telephone","formControlName","telephone",3,"preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","tooltipField","phoneValidation","separateDialCode"],["intlTelInput",""],["type","text","placeholder","",1,"form-control",3,"formControlName","id"],["placeholder","",1,"form-control",3,"formControlName","id"],[1,"mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","button",1,"btn","btn-sm","btn-primary","py-2","mt-2",3,"disabled","click"],[1,"text-small","mt-2"]],template:function(t,e){1&t&&(g.Pc(0,"div",0),g.xd(1,it,17,18,"form",1),g.Oc()),2&t&&(g.wc(1),g.ed("ngIf",e.settingForm))},directives:[o.l,s.u,s.l,s.e,o.k,i.c,s.a,s.k,s.d,l.b,s.r,s.o,s.t,l.c],pipes:[h.c,o.b,v.a],styles:[""]});const st=[{path:"",component:c.a,children:[{path:"",component:ct}]}];class at{}at.\u0275mod=g.Hc({type:at}),at.\u0275inj=g.Gc({factory:function(t){return new(t||at)},imports:[[i.d.forChild(st)],i.d]});class lt{}lt.\u0275mod=g.Hc({type:lt}),lt.\u0275inj=g.Gc({factory:function(t){return new(t||lt)},imports:[[o.c,at,r.a]]})}}]);