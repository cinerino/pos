(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{AL2A:function(t,c,e){"use strict";e.r(c),e.d(c,"SettingModule",(function(){return qt}));var n=e("2kYt"),i=e("DSWM"),o=e("sEIs"),r=e("RRjC"),s=e("nIj0"),a=e("sN6X"),l=e("WxsR"),m=e("PIN6"),d=e("i7xV"),h=e("cHUu"),g=e("mOXJ"),u=e("UH/6"),p=e("EM62"),f=e("s2Ay"),v=e("OSFB"),b=function(t,c,e,n){return new(e||(e=Promise))((function(i,o){function r(t){try{a(n.next(t))}catch(c){o(c)}}function s(t){try{a(n.throw(t))}catch(c){o(c)}}function a(t){var c;t.done?i(t.value):(c=t.value,c instanceof e?c:new e((function(t){t(c)}))).then(r,s)}a((n=n.apply(t,c||[])).next())}))};function P(t,c){if(1&t&&(p.ic(0,"option",25),p.Uc(1),p.tc(2,"changeLanguage"),p.hc()),2&t){const t=c.$implicit;p.zc("value",t.branchCode),p.Pb(1),p.Wc(" ",p.uc(2,2,t.name),"")}}function F(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.unselected"),""))}function I(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,F,3,3,"p",27),p.hc()),2&t){const t=p.sc(2);p.Pb(1),p.zc("ngIf",t.settingForm.controls.theaterBranchCode.errors.required)}}function S(t,c){if(1&t&&(p.ic(0,"option",25),p.Uc(1),p.hc()),2&t){const t=c.$implicit;p.zc("value",t.id),p.Pb(1),p.Vc(t.name)}}function y(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.unselected"),""))}function z(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,y,3,3,"p",27),p.hc()),2&t){const t=p.sc(2);p.Pb(1),p.zc("ngIf",t.settingForm.controls.posId.errors.required)}}function U(t,c){1&t&&(p.ic(0,"span",10),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"common.required")))}function q(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}const x=function(t){return{value:t}};function N(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.maxlength",p.Cc(4,x,t.settingForm.controls.familyName.errors.maxlength.requiredLength))," ")}}function C(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.fullKana"),""))}function V(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,q,3,3,"p",27),p.Sc(2,N,3,6,"p",27),p.Sc(3,C,3,3,"p",27),p.hc()),2&t){const t=p.sc(3);p.Pb(1),p.zc("ngIf",t.settingForm.controls.familyName.errors.required),p.Pb(1),p.zc("ngIf",t.settingForm.controls.familyName.errors.maxlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.familyName.errors.pattern)}}function L(t,c){if(1&t&&(p.ic(0,"div",7),p.ic(1,"div",8),p.ic(2,"p",9),p.Uc(3),p.tc(4,"translate"),p.Sc(5,U,3,3,"span",29),p.hc(),p.ic(6,"div",11),p.dc(7,"input",30),p.Sc(8,V,4,3,"div",15),p.hc(),p.hc(),p.hc()),2&t){const t=p.sc(2);p.Pb(3),p.Vc(p.uc(4,3,"common.familyName")),p.Pb(2),p.zc("ngIf",t.isRequired("familyName")),p.Pb(3),p.zc("ngIf",t.settingForm.controls.familyName.invalid&&t.settingForm.controls.familyName.touched)}}function W(t,c){1&t&&(p.ic(0,"span",10),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"common.required")))}function w(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}function A(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.maxlength",p.Cc(4,x,t.settingForm.controls.givenName.errors.maxlength.requiredLength))," ")}}function k(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.fullKana")," "))}function T(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,w,3,3,"p",27),p.Sc(2,A,3,6,"p",27),p.Sc(3,k,3,3,"p",27),p.hc()),2&t){const t=p.sc(3);p.Pb(1),p.zc("ngIf",t.settingForm.controls.givenName.errors.required),p.Pb(1),p.zc("ngIf",t.settingForm.controls.givenName.errors.maxlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.givenName.errors.pattern)}}function O(t,c){if(1&t&&(p.ic(0,"div",7),p.ic(1,"div",8),p.ic(2,"p",9),p.Uc(3),p.tc(4,"translate"),p.Sc(5,W,3,3,"span",29),p.hc(),p.ic(6,"div",11),p.dc(7,"input",31),p.Sc(8,T,4,3,"div",15),p.hc(),p.hc(),p.hc()),2&t){const t=p.sc(2);p.Pb(3),p.Vc(p.uc(4,3,"common.givenName")),p.Pb(2),p.zc("ngIf",t.isRequired("givenName")),p.Pb(3),p.zc("ngIf",t.settingForm.controls.givenName.invalid&&t.settingForm.controls.givenName.touched)}}function j(t,c){1&t&&(p.ic(0,"span",10),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"common.required")))}function R(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}function B(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.maxlength",p.Cc(4,x,t.settingForm.controls.email.errors.maxlength.requiredLength))," ")}}function E(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.email"),""))}function M(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,R,3,3,"p",27),p.Sc(2,B,3,6,"p",27),p.Sc(3,E,3,3,"p",27),p.hc()),2&t){const t=p.sc(3);p.Pb(1),p.zc("ngIf",t.settingForm.controls.email.errors.required),p.Pb(1),p.zc("ngIf",t.settingForm.controls.email.errors.maxlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.email.errors.email)}}function $(t,c){if(1&t&&(p.ic(0,"div",7),p.ic(1,"div",8),p.ic(2,"p",9),p.Uc(3),p.tc(4,"translate"),p.Sc(5,j,3,3,"span",29),p.hc(),p.ic(6,"div",11),p.dc(7,"input",32),p.Sc(8,M,4,3,"div",15),p.hc(),p.hc(),p.hc()),2&t){const t=p.sc(2);p.Pb(3),p.Vc(p.uc(4,3,"common.email")),p.Pb(2),p.zc("ngIf",t.isRequired("email")),p.Pb(3),p.zc("ngIf",t.settingForm.controls.email.invalid&&t.settingForm.controls.email.touched)}}function H(t,c){1&t&&(p.ic(0,"span",10),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"common.required")))}function J(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}function D(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.telephone.errors.minlength.requiredLength))," ")}}function G(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.telephone.errors.maxlength.requiredLength))," ")}}function K(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.telephone"),""))}function X(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,J,3,3,"p",27),p.Sc(2,D,3,6,"p",27),p.Sc(3,G,3,6,"p",27),p.Sc(4,K,3,3,"p",27),p.hc()),2&t){const t=p.sc(3);p.Pb(1),p.zc("ngIf",t.settingForm.controls.telephone.errors.required),p.Pb(1),p.zc("ngIf",t.settingForm.controls.telephone.errors.minlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.telephone.errors.maxlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.telephone.errors.telephone)}}function Z(t,c){if(1&t&&(p.ic(0,"div",7),p.ic(1,"div",8),p.ic(2,"p",9),p.Uc(3),p.tc(4,"translate"),p.Sc(5,H,3,3,"span",29),p.hc(),p.ic(6,"div",11),p.dc(7,"input",33),p.Sc(8,X,5,4,"div",15),p.hc(),p.hc(),p.hc()),2&t){const t=p.sc(2);p.Pb(3),p.Vc(p.uc(4,3,"common.telephone")),p.Pb(2),p.zc("ngIf",t.isRequired("telephone")),p.Pb(3),p.zc("ngIf",t.settingForm.controls.telephone.invalid&&t.settingForm.controls.telephone.touched)}}function Y(t,c){1&t&&(p.ic(0,"span",10),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"common.required")))}function _(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}function Q(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.age.errors.minlength.requiredLength))," ")}}function tt(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.age.errors.maxlength.requiredLength))," ")}}function ct(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.pattern")," "))}function et(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,_,3,3,"p",27),p.Sc(2,Q,3,6,"p",27),p.Sc(3,tt,3,6,"p",27),p.Sc(4,ct,3,3,"p",27),p.hc()),2&t){const t=p.sc(3);p.Pb(1),p.zc("ngIf",t.settingForm.controls.age.errors.required),p.Pb(1),p.zc("ngIf",t.settingForm.controls.age.errors.minlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.age.errors.maxlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.age.errors.pattern)}}function nt(t,c){if(1&t&&(p.ic(0,"div",7),p.ic(1,"div",8),p.ic(2,"p",9),p.Uc(3),p.tc(4,"translate"),p.Sc(5,Y,3,3,"span",29),p.hc(),p.ic(6,"div",11),p.dc(7,"input",34),p.Sc(8,et,5,4,"div",15),p.hc(),p.hc(),p.hc()),2&t){const t=p.sc(2);p.Pb(3),p.Vc(p.uc(4,3,"common.age")),p.Pb(2),p.zc("ngIf",t.isRequired("age")),p.Pb(3),p.zc("ngIf",t.settingForm.controls.age.invalid&&t.settingForm.controls.age.touched)}}function it(t,c){1&t&&(p.ic(0,"span",10),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"common.required")))}function ot(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}function rt(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.age.errors.minlength.requiredLength))," ")}}function st(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.age.errors.maxlength.requiredLength))," ")}}function at(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.pattern")," "))}function lt(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,ot,3,3,"p",27),p.Sc(2,rt,3,6,"p",27),p.Sc(3,st,3,6,"p",27),p.Sc(4,at,3,3,"p",27),p.hc()),2&t){const t=p.sc(3);p.Pb(1),p.zc("ngIf",t.settingForm.controls.address.errors.required),p.Pb(1),p.zc("ngIf",t.settingForm.controls.address.errors.minlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.address.errors.maxlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.address.errors.pattern)}}function mt(t,c){if(1&t&&(p.ic(0,"div",7),p.ic(1,"div",8),p.ic(2,"p",9),p.Uc(3),p.tc(4,"translate"),p.Sc(5,it,3,3,"span",29),p.hc(),p.ic(6,"div",11),p.dc(7,"input",35),p.Sc(8,lt,5,4,"div",15),p.hc(),p.hc(),p.hc()),2&t){const t=p.sc(2);p.Pb(3),p.Vc(p.uc(4,3,"common.address")),p.Pb(2),p.zc("ngIf",t.isRequired("address")),p.Pb(3),p.zc("ngIf",t.settingForm.controls.address.invalid&&t.settingForm.controls.address.touched)}}function dt(t,c){1&t&&(p.ic(0,"span",10),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"common.required")))}function ht(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}function gt(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.age.errors.minlength.requiredLength))," ")}}function ut(t,c){if(1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=p.sc(4);p.Pb(1),p.Wc(" ",p.vc(2,1,"form.validation.minlength",p.Cc(4,x,t.settingForm.controls.age.errors.maxlength.requiredLength))," ")}}function pt(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.pattern")," "))}function ft(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,ht,3,3,"p",27),p.Sc(2,gt,3,6,"p",27),p.Sc(3,ut,3,6,"p",27),p.Sc(4,pt,3,3,"p",27),p.hc()),2&t){const t=p.sc(3);p.Pb(1),p.zc("ngIf",t.settingForm.controls.gender.errors.required),p.Pb(1),p.zc("ngIf",t.settingForm.controls.gender.errors.minlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.gender.errors.maxlength),p.Pb(1),p.zc("ngIf",t.settingForm.controls.gender.errors.pattern)}}function vt(t,c){if(1&t&&(p.ic(0,"div",7),p.ic(1,"div",8),p.ic(2,"p",9),p.Uc(3),p.tc(4,"translate"),p.Sc(5,dt,3,3,"span",29),p.hc(),p.ic(6,"div",11),p.ic(7,"select",36),p.ic(8,"option",13),p.Uc(9),p.tc(10,"translate"),p.hc(),p.ic(11,"option",37),p.Uc(12),p.tc(13,"translate"),p.hc(),p.ic(14,"option",38),p.Uc(15),p.tc(16,"translate"),p.hc(),p.hc(),p.Sc(17,ft,5,4,"div",15),p.hc(),p.hc(),p.hc()),2&t){const t=p.sc(2);p.Pb(3),p.Vc(p.uc(4,6,"common.gender.label")),p.Pb(2),p.zc("ngIf",t.isRequired("gender")),p.Pb(4),p.Vc(p.uc(10,8,"common.gender.unselected")),p.Pb(3),p.Vc(p.uc(13,10,"common.gender.man")),p.Pb(3),p.Vc(p.uc(16,12,"common.gender.woman")),p.Pb(2),p.zc("ngIf",t.settingForm.controls.gender.invalid&&t.settingForm.controls.gender.touched)}}function bt(t,c){if(1&t&&(p.ic(0,"option",25),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t){const t=c.$implicit;p.zc("value",t.connectionType),p.Pb(1),p.Wc(" ",p.uc(2,2,t.name),"")}}function Pt(t,c){if(1&t){const t=p.jc();p.ic(0,"button",39),p.qc("click",(function(){return p.Mc(t),p.sc(2).print()})),p.Uc(1),p.tc(2,"translate"),p.hc()}2&t&&(p.Pb(1),p.Vc(p.uc(2,1,"setting.testPrinting")))}function Ft(t,c){1&t&&(p.ic(0,"p",28),p.Uc(1),p.tc(2,"translate"),p.hc()),2&t&&(p.Pb(1),p.Wc(" ",p.uc(2,1,"form.validation.required"),""))}function It(t,c){if(1&t&&(p.ic(0,"div",26),p.Sc(1,Ft,3,3,"p",27),p.hc()),2&t){const t=p.sc(2);p.Pb(1),p.zc("ngIf",t.settingForm.controls.printerIpAddress.errors.required)}}function St(t,c){if(1&t){const t=p.jc();p.ic(0,"form",2),p.ic(1,"div",3),p.ic(2,"h2",4),p.Uc(3),p.tc(4,"translate"),p.hc(),p.dc(5,"p",5),p.tc(6,"translate"),p.ic(7,"div",6),p.ic(8,"div",7),p.ic(9,"div",8),p.ic(10,"p",9),p.Uc(11),p.tc(12,"translate"),p.ic(13,"span",10),p.Uc(14),p.tc(15,"translate"),p.hc(),p.hc(),p.ic(16,"div",11),p.ic(17,"select",12),p.qc("change",(function(){return p.Mc(t),p.sc().changePosList()})),p.ic(18,"option",13),p.Uc(19),p.tc(20,"translate"),p.hc(),p.Sc(21,P,3,4,"option",14),p.hc(),p.Sc(22,I,2,1,"div",15),p.hc(),p.hc(),p.hc(),p.ic(23,"div",7),p.ic(24,"div",8),p.ic(25,"p",9),p.Uc(26),p.tc(27,"translate"),p.hc(),p.ic(28,"div",11),p.ic(29,"select",16),p.ic(30,"option",13),p.Uc(31),p.tc(32,"translate"),p.hc(),p.Sc(33,S,2,2,"option",14),p.hc(),p.Sc(34,z,2,1,"div",15),p.hc(),p.hc(),p.hc(),p.Sc(35,L,9,5,"div",17),p.Sc(36,O,9,5,"div",17),p.Sc(37,$,9,5,"div",17),p.Sc(38,Z,9,5,"div",17),p.Sc(39,nt,9,5,"div",17),p.Sc(40,mt,9,5,"div",17),p.Sc(41,vt,18,14,"div",17),p.ic(42,"div",7),p.ic(43,"div",8),p.ic(44,"p",9),p.Uc(45),p.tc(46,"translate"),p.hc(),p.ic(47,"div",11),p.ic(48,"select",18),p.qc("change",(function(){return p.Mc(t),p.sc().changePrinterType()})),p.Sc(49,bt,3,4,"option",14),p.hc(),p.Sc(50,Pt,3,3,"button",19),p.hc(),p.hc(),p.hc(),p.ic(51,"div",7),p.ic(52,"div",8),p.ic(53,"p",9),p.Uc(54),p.tc(55,"translate"),p.hc(),p.ic(56,"div",11),p.dc(57,"input",20),p.Sc(58,It,2,1,"div",15),p.ic(59,"p",21),p.Uc(60),p.tc(61,"translate"),p.hc(),p.hc(),p.hc(),p.hc(),p.hc(),p.hc(),p.ic(62,"div",22),p.ic(63,"button",23),p.qc("click",(function(){return p.Mc(t),p.sc().onSubmit()})),p.tc(64,"async"),p.Uc(65),p.tc(66,"translate"),p.hc(),p.ic(67,"button",24),p.Uc(68),p.tc(69,"translate"),p.hc(),p.hc(),p.hc()}if(2&t){const t=p.sc();p.zc("formGroup",t.settingForm),p.Pb(3),p.Vc(p.uc(4,29,"setting.title")),p.Pb(2),p.zc("innerHTML",p.uc(6,31,"setting.read"),p.Nc),p.Pb(6),p.Vc(p.uc(12,33,"common.theater")),p.Pb(3),p.Vc(p.uc(15,35,"common.required")),p.Pb(5),p.Vc(p.uc(20,37,"setting.unselected")),p.Pb(2),p.zc("ngForOf",t.theaters),p.Pb(1),p.zc("ngIf",t.settingForm.controls.theaterBranchCode.invalid&&t.settingForm.controls.theaterBranchCode.touched),p.Pb(4),p.Vc(p.uc(27,39,"setting.pos")),p.Pb(5),p.Vc(p.uc(32,41,"setting.unselected")),p.Pb(2),p.zc("ngForOf",t.posList),p.Pb(1),p.zc("ngIf",t.settingForm.controls.posId.invalid&&t.settingForm.controls.posId.touched),p.Pb(1),p.zc("ngIf",t.settingForm.controls.familyName),p.Pb(1),p.zc("ngIf",t.settingForm.controls.givenName),p.Pb(1),p.zc("ngIf",t.settingForm.controls.email),p.Pb(1),p.zc("ngIf",t.settingForm.controls.telephone),p.Pb(1),p.zc("ngIf",t.settingForm.controls.age),p.Pb(1),p.zc("ngIf",t.settingForm.controls.address),p.Pb(1),p.zc("ngIf",t.settingForm.controls.gender),p.Pb(4),p.Vc(p.uc(46,43,"setting.printer")),p.Pb(4),p.zc("ngForOf",t.printers),p.Pb(1),p.zc("ngIf",t.settingForm.controls.printerType.value&&t.settingForm.controls.printerType.value!==t.connectionType.None),p.Pb(4),p.Vc(p.uc(55,45,"setting.printerIpAddress")),p.Pb(4),p.zc("ngIf",t.settingForm.controls.printerIpAddress.invalid&&t.settingForm.controls.printerIpAddress.touched),p.Pb(2),p.Wc(" ",p.uc(61,47,"setting.printerIpAddressDescription")," "),p.Pb(3),p.zc("disabled",p.uc(64,49,t.isLoading)),p.Pb(2),p.Vc(p.uc(66,51,"setting.next")),p.Pb(2),p.zc("routerLink",t.environment.BASE_URL),p.Pb(1),p.Vc(p.uc(69,53,"setting.prev"))}}class yt{constructor(t,c,e,n,i,o,r,s){this.formBuilder=t,this.store=c,this.utilService=e,this.userService=n,this.masterService=i,this.orderService=o,this.translate=r,this.router=s,this.printers=d.i,this.connectionType=d.a,this.viewType=d.h,this.environment=Object(m.a)()}ngOnInit(){return b(this,void 0,void 0,(function*(){this.user=this.store.pipe(Object(a.m)(g.i)),this.error=this.store.pipe(Object(a.m)(g.b)),this.isLoading=this.store.pipe(Object(a.m)(g.c)),this.posList=[],this.theaters=[];try{this.theaters=yield this.masterService.getTheaters(),yield this.createSettlingForm()}catch(t){console.error(t),this.router.navigate(["/error"])}}))}createSettlingForm(){return b(this,void 0,void 0,(function*(){const t=this.environment.PROFILE;this.settingForm=this.formBuilder.group({theaterBranchCode:["",[s.r.required]],posId:[""],printerType:[d.a.None],printerIpAddress:[""]}),t.forEach(t=>{const c=[];void 0!==t.required&&t.required&&c.push(s.r.required),void 0!==t.maxLength&&c.push(s.r.maxLength(t.maxLength)),void 0!==t.minLength&&c.push(s.r.minLength(t.minLength)),void 0!==t.pattern&&c.push(s.r.pattern(t.pattern)),"email"===t.key&&c.push(s.r.email),"telephone"===t.key&&c.push(t=>{const c=t.root.get("telephone");if(null!==c){if(""===c.value)return null;const t=new RegExp(/^\+/).test(c.value)?l.c(c.value):l.c(c.value,"JP");if(void 0===t.phone)return{telephone:!0};if(!l.b(t))return{telephone:!0}}return null}),this.settingForm.addControl(t.key,new s.c(t.value,c))});const c=yield this.userService.getData();void 0!==c.theater&&(this.settingForm.controls.theaterBranchCode.setValue(c.theater.branchCode),this.changePosList()),void 0!==c.pos&&this.settingForm.controls.posId.setValue(c.pos.id);const e=c.customerContact;void 0!==e&&Object.keys(e).forEach(t=>{const c=e[t];void 0!==c&&void 0!==this.settingForm.controls[t]&&("telephone"!==t?this.settingForm.controls[t].setValue(c):this.settingForm.controls.telephone.setValue((new u.a).transform(c)))}),void 0!==c.printer&&(this.settingForm.controls.printerType.setValue(c.printer.connectionType),this.settingForm.controls.printerIpAddress.setValue(c.printer.ipAddress)),console.log(this.settingForm)}))}changePosList(){this.settingForm.controls.posId.setValue("");const t=this.settingForm.controls.theaterBranchCode.value;if(""===t)return void(this.posList=[]);const c=this.theaters.find(c=>c.branchCode===t);this.posList=void 0!==c?void 0===c.hasPOS?[]:c.hasPOS:[]}onSubmit(){return b(this,void 0,void 0,(function*(){if(Object.keys(this.settingForm.controls).forEach(t=>{this.settingForm.controls[t].markAsTouched()}),this.settingForm.invalid)this.utilService.openAlert({title:this.translate.instant("common.error"),body:this.translate.instant("setting.alert.validation")});else try{const t=this.settingForm.controls.theaterBranchCode.value,c=this.settingForm.controls.posId.value,e=this.theaters.find(c=>c.branchCode===t);if(void 0===e)throw new Error("theater not found").message;const n=void 0===e.hasPOS?e.hasPOS:e.hasPOS.find(t=>t.id===c);this.userService.updateAll({pos:n,theater:e,customerContact:{familyName:void 0===this.settingForm.controls.familyName?void 0:this.settingForm.controls.familyName.value,givenName:void 0===this.settingForm.controls.givenName?void 0:this.settingForm.controls.givenName.value,email:void 0===this.settingForm.controls.email?void 0:this.settingForm.controls.email.value,telephone:void 0===this.settingForm.controls.telephone?void 0:this.settingForm.controls.telephone.value,age:void 0===this.settingForm.controls.age?void 0:this.settingForm.controls.age.value,address:void 0===this.settingForm.controls.address?void 0:this.settingForm.controls.address.value,gender:void 0===this.settingForm.controls.gender?void 0:this.settingForm.controls.gender.value},printer:{ipAddress:this.settingForm.controls.printerIpAddress.value,connectionType:this.settingForm.controls.printerType.value}}),this.utilService.openAlert({title:this.translate.instant("common.complete"),body:this.translate.instant("setting.alert.success")})}catch(t){console.error(t)}}))}print(){return b(this,void 0,void 0,(function*(){const t={connectionType:this.settingForm.controls.printerType.value,ipAddress:this.settingForm.controls.printerIpAddress.value};try{yield this.orderService.print({orders:[],printer:t})}catch(c){console.error(c),this.utilService.openAlert({title:this.translate.instant("common.error"),body:`\n                <p class="mb-4">${this.translate.instant("setting.alert.print")}</p>\n                    <div class="p-3 bg-light-gray select-text">\n                    <code>${c}</code>\n                </div>`})}}))}changePrinterType(){this.settingForm.controls.printerType.value===d.a.StarBluetooth&&this.settingForm.controls.printerIpAddress.setValue(this.translate.instant("setting.starBluetoothAddress"))}isRequired(t){return void 0!==this.environment.PROFILE.find(c=>c.key===t&&c.required)}}yt.\u0275fac=function(t){return new(t||yt)(p.cc(s.b),p.cc(a.b),p.cc(h.k),p.cc(h.j),p.cc(h.d),p.cc(h.e),p.cc(f.d),p.cc(o.b))},yt.\u0275cmp=p.Wb({type:yt,selectors:[["app-setting"]],decls:2,vars:1,consts:[[1,"contents-width","mx-auto","px-3","py-5"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"mb-4"],[1,"text-large","mb-4","text-center","font-weight-bold"],[1,"mb-4","text-md-center",3,"innerHTML"],[1,"p-3","bg-white"],[1,"form-group"],[1,"row","align-items-center"],[1,"col-md-4","py-2","text-md-right"],[1,"badge","badge-danger","ml-2"],[1,"col-md-8"],["formControlName","theaterBranchCode",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],["formControlName","posId",1,"form-control"],["class","form-group",4,"ngIf"],["formControlName","printerType",1,"form-control",3,"change"],["type","button","class","btn btn-sm btn-primary py-2 mt-2",3,"click",4,"ngIf"],["type","text","formControlName","printerIpAddress","placeholder","0.0.0.0",1,"form-control"],[1,"text-small","mt-2"],[1,"buttons","mx-auto","text-center"],["type","submit",1,"btn","btn-primary","btn-block","py-3","mb-3",3,"disabled","click"],["type","button",1,"btn","btn-link",3,"routerLink"],[3,"value"],[1,"mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["class","badge badge-danger ml-2",4,"ngIf"],["type","text","formControlName","familyName","placeholder","\u30e2\u30fc\u30b7\u30e7\u30f3",1,"form-control"],["type","text","formControlName","givenName","placeholder","\u30d4\u30af\u30c1\u30e3\u30fc",1,"form-control"],["type","email","formControlName","email","placeholder","motionpicture@example.jp",1,"form-control"],["type","tel","formControlName","telephone","placeholder","0362778824",1,"form-control"],["type","tel","formControlName","age","placeholder","",1,"form-control"],["type","tel","formControlName","address","placeholder","",1,"form-control"],["formControlName","gender",1,"form-control"],["value","man"],["value","woman"],["type","button",1,"btn","btn-sm","btn-primary","py-2","mt-2",3,"click"]],template:function(t,c){1&t&&(p.ic(0,"div",0),p.Sc(1,St,70,55,"form",1),p.hc()),2&t&&(p.Pb(1),p.zc("ngIf",c.settingForm))},directives:[n.l,s.t,s.k,s.e,s.q,s.j,s.d,s.n,s.s,n.k,s.a,o.c],pipes:[f.c,n.b,v.a],styles:[""]});const zt=[{path:"",component:r.a,children:[{path:"",component:yt}]}];class Ut{}Ut.\u0275mod=p.ac({type:Ut}),Ut.\u0275inj=p.Zb({factory:function(t){return new(t||Ut)},imports:[[o.d.forChild(zt)],o.d]});class qt{}qt.\u0275mod=p.ac({type:qt}),qt.\u0275inj=p.Zb({factory:function(t){return new(t||qt)},imports:[[n.c,Ut,i.a]]})}}]);