(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{AL2A:function(t,e,n){"use strict";n.r(e),n.d(e,"SettingModule",(function(){return qt}));var o=n("2kYt"),r=n("DSWM"),i=n("sEIs"),c=n("RRjC"),d=n("nIj0"),s=n("sN6X"),a=n("WxsR"),l=n("PIN6"),m=n("i7xV"),g=n("cHUu"),p=n("mOXJ"),f=n("UH/6"),u=n("EM62"),h=n("s2Ay"),v=n("OSFB"),y=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function d(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,d)}s((o=o.apply(t,e||[])).next())}))};function F(t,e){if(1&t&&(u.Rc(0,"option",25),u.Dd(1),u.cd(2,"changeLanguage"),u.Qc()),2&t){const t=e.$implicit;u.id("value",t.branchCode),u.yc(1),u.Fd(" ",u.dd(2,2,t.name),"")}}function R(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.unselected"),""))}function Q(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,R,3,3,"p",27),u.Qc()),2&t){const t=u.bd(2);u.yc(1),u.id("ngIf",t.settingForm.controls.theaterBranchCode.errors.required)}}function b(t,e){if(1&t&&(u.Rc(0,"option",25),u.Dd(1),u.Qc()),2&t){const t=e.$implicit;u.id("value",t.id),u.yc(1),u.Ed(t.name)}}function I(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.unselected"),""))}function B(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,I,3,3,"p",27),u.Qc()),2&t){const t=u.bd(2);u.yc(1),u.id("ngIf",t.settingForm.controls.posId.errors.required)}}function D(t,e){1&t&&(u.Rc(0,"span",10),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Ed(u.dd(2,1,"common.required")))}function q(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}const L=function(t){return{value:t}};function x(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.maxlength",u.ld(4,L,t.settingForm.controls.familyName.errors.maxlength.requiredLength))," ")}}function N(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.fullKana"),""))}function E(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,q,3,3,"p",27),u.Bd(2,x,3,6,"p",27),u.Bd(3,N,3,3,"p",27),u.Qc()),2&t){const t=u.bd(3);u.yc(1),u.id("ngIf",t.settingForm.controls.familyName.errors.required),u.yc(1),u.id("ngIf",t.settingForm.controls.familyName.errors.maxlength),u.yc(1),u.id("ngIf",t.settingForm.controls.familyName.errors.pattern)}}function C(t,e){if(1&t&&(u.Rc(0,"div",7),u.Rc(1,"div",8),u.Rc(2,"p",9),u.Dd(3),u.cd(4,"translate"),u.Bd(5,D,3,3,"span",29),u.Qc(),u.Rc(6,"div",11),u.Mc(7,"input",30),u.Bd(8,E,4,3,"div",15),u.Qc(),u.Qc(),u.Qc()),2&t){const t=u.bd(2);u.yc(3),u.Ed(u.dd(4,3,"common.familyName")),u.yc(2),u.id("ngIf",t.isRequired("familyName")),u.yc(3),u.id("ngIf",t.settingForm.controls.familyName.invalid&&t.settingForm.controls.familyName.touched)}}function S(t,e){1&t&&(u.Rc(0,"span",10),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Ed(u.dd(2,1,"common.required")))}function w(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}function A(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.maxlength",u.ld(4,L,t.settingForm.controls.givenName.errors.maxlength.requiredLength))," ")}}function k(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.fullKana")," "))}function T(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,w,3,3,"p",27),u.Bd(2,A,3,6,"p",27),u.Bd(3,k,3,3,"p",27),u.Qc()),2&t){const t=u.bd(3);u.yc(1),u.id("ngIf",t.settingForm.controls.givenName.errors.required),u.yc(1),u.id("ngIf",t.settingForm.controls.givenName.errors.maxlength),u.yc(1),u.id("ngIf",t.settingForm.controls.givenName.errors.pattern)}}function O(t,e){if(1&t&&(u.Rc(0,"div",7),u.Rc(1,"div",8),u.Rc(2,"p",9),u.Dd(3),u.cd(4,"translate"),u.Bd(5,S,3,3,"span",29),u.Qc(),u.Rc(6,"div",11),u.Mc(7,"input",31),u.Bd(8,T,4,3,"div",15),u.Qc(),u.Qc(),u.Qc()),2&t){const t=u.bd(2);u.yc(3),u.Ed(u.dd(4,3,"common.givenName")),u.yc(2),u.id("ngIf",t.isRequired("givenName")),u.yc(3),u.id("ngIf",t.settingForm.controls.givenName.invalid&&t.settingForm.controls.givenName.touched)}}function P(t,e){1&t&&(u.Rc(0,"span",10),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Ed(u.dd(2,1,"common.required")))}function j(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}function M(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.maxlength",u.ld(4,L,t.settingForm.controls.email.errors.maxlength.requiredLength))," ")}}function V(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.email"),""))}function J(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,j,3,3,"p",27),u.Bd(2,M,3,6,"p",27),u.Bd(3,V,3,3,"p",27),u.Qc()),2&t){const t=u.bd(3);u.yc(1),u.id("ngIf",t.settingForm.controls.email.errors.required),u.yc(1),u.id("ngIf",t.settingForm.controls.email.errors.maxlength),u.yc(1),u.id("ngIf",t.settingForm.controls.email.errors.email)}}function $(t,e){if(1&t&&(u.Rc(0,"div",7),u.Rc(1,"div",8),u.Rc(2,"p",9),u.Dd(3),u.cd(4,"translate"),u.Bd(5,P,3,3,"span",29),u.Qc(),u.Rc(6,"div",11),u.Mc(7,"input",32),u.Bd(8,J,4,3,"div",15),u.Qc(),u.Qc(),u.Qc()),2&t){const t=u.bd(2);u.yc(3),u.Ed(u.dd(4,3,"common.email")),u.yc(2),u.id("ngIf",t.isRequired("email")),u.yc(3),u.id("ngIf",t.settingForm.controls.email.invalid&&t.settingForm.controls.email.touched)}}function H(t,e){1&t&&(u.Rc(0,"span",10),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Ed(u.dd(2,1,"common.required")))}function Z(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}function G(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.telephone.errors.minlength.requiredLength))," ")}}function U(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.telephone.errors.maxlength.requiredLength))," ")}}function K(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.telephone"),""))}function W(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,Z,3,3,"p",27),u.Bd(2,G,3,6,"p",27),u.Bd(3,U,3,6,"p",27),u.Bd(4,K,3,3,"p",27),u.Qc()),2&t){const t=u.bd(3);u.yc(1),u.id("ngIf",t.settingForm.controls.telephone.errors.required),u.yc(1),u.id("ngIf",t.settingForm.controls.telephone.errors.minlength),u.yc(1),u.id("ngIf",t.settingForm.controls.telephone.errors.maxlength),u.yc(1),u.id("ngIf",t.settingForm.controls.telephone.errors.telephone)}}function X(t,e){if(1&t&&(u.Rc(0,"div",7),u.Rc(1,"div",8),u.Rc(2,"p",9),u.Dd(3),u.cd(4,"translate"),u.Bd(5,H,3,3,"span",29),u.Qc(),u.Rc(6,"div",11),u.Mc(7,"input",33),u.Bd(8,W,5,4,"div",15),u.Qc(),u.Qc(),u.Qc()),2&t){const t=u.bd(2);u.yc(3),u.Ed(u.dd(4,3,"common.telephone")),u.yc(2),u.id("ngIf",t.isRequired("telephone")),u.yc(3),u.id("ngIf",t.settingForm.controls.telephone.invalid&&t.settingForm.controls.telephone.touched)}}function Y(t,e){1&t&&(u.Rc(0,"span",10),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Ed(u.dd(2,1,"common.required")))}function _(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}function z(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.age.errors.minlength.requiredLength))," ")}}function tt(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.age.errors.maxlength.requiredLength))," ")}}function et(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.pattern")," "))}function nt(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,_,3,3,"p",27),u.Bd(2,z,3,6,"p",27),u.Bd(3,tt,3,6,"p",27),u.Bd(4,et,3,3,"p",27),u.Qc()),2&t){const t=u.bd(3);u.yc(1),u.id("ngIf",t.settingForm.controls.age.errors.required),u.yc(1),u.id("ngIf",t.settingForm.controls.age.errors.minlength),u.yc(1),u.id("ngIf",t.settingForm.controls.age.errors.maxlength),u.yc(1),u.id("ngIf",t.settingForm.controls.age.errors.pattern)}}function ot(t,e){if(1&t&&(u.Rc(0,"div",7),u.Rc(1,"div",8),u.Rc(2,"p",9),u.Dd(3),u.cd(4,"translate"),u.Bd(5,Y,3,3,"span",29),u.Qc(),u.Rc(6,"div",11),u.Mc(7,"input",34),u.Bd(8,nt,5,4,"div",15),u.Qc(),u.Qc(),u.Qc()),2&t){const t=u.bd(2);u.yc(3),u.Ed(u.dd(4,3,"common.age")),u.yc(2),u.id("ngIf",t.isRequired("age")),u.yc(3),u.id("ngIf",t.settingForm.controls.age.invalid&&t.settingForm.controls.age.touched)}}function rt(t,e){1&t&&(u.Rc(0,"span",10),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Ed(u.dd(2,1,"common.required")))}function it(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}function ct(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.age.errors.minlength.requiredLength))," ")}}function dt(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.age.errors.maxlength.requiredLength))," ")}}function st(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.pattern")," "))}function at(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,it,3,3,"p",27),u.Bd(2,ct,3,6,"p",27),u.Bd(3,dt,3,6,"p",27),u.Bd(4,st,3,3,"p",27),u.Qc()),2&t){const t=u.bd(3);u.yc(1),u.id("ngIf",t.settingForm.controls.address.errors.required),u.yc(1),u.id("ngIf",t.settingForm.controls.address.errors.minlength),u.yc(1),u.id("ngIf",t.settingForm.controls.address.errors.maxlength),u.yc(1),u.id("ngIf",t.settingForm.controls.address.errors.pattern)}}function lt(t,e){if(1&t&&(u.Rc(0,"div",7),u.Rc(1,"div",8),u.Rc(2,"p",9),u.Dd(3),u.cd(4,"translate"),u.Bd(5,rt,3,3,"span",29),u.Qc(),u.Rc(6,"div",11),u.Mc(7,"input",35),u.Bd(8,at,5,4,"div",15),u.Qc(),u.Qc(),u.Qc()),2&t){const t=u.bd(2);u.yc(3),u.Ed(u.dd(4,3,"common.address")),u.yc(2),u.id("ngIf",t.isRequired("address")),u.yc(3),u.id("ngIf",t.settingForm.controls.address.invalid&&t.settingForm.controls.address.touched)}}function mt(t,e){1&t&&(u.Rc(0,"span",10),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Ed(u.dd(2,1,"common.required")))}function gt(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}function pt(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.age.errors.minlength.requiredLength))," ")}}function ft(t,e){if(1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=u.bd(4);u.yc(1),u.Fd(" ",u.ed(2,1,"form.validation.minlength",u.ld(4,L,t.settingForm.controls.age.errors.maxlength.requiredLength))," ")}}function ut(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.pattern")," "))}function ht(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,gt,3,3,"p",27),u.Bd(2,pt,3,6,"p",27),u.Bd(3,ft,3,6,"p",27),u.Bd(4,ut,3,3,"p",27),u.Qc()),2&t){const t=u.bd(3);u.yc(1),u.id("ngIf",t.settingForm.controls.gender.errors.required),u.yc(1),u.id("ngIf",t.settingForm.controls.gender.errors.minlength),u.yc(1),u.id("ngIf",t.settingForm.controls.gender.errors.maxlength),u.yc(1),u.id("ngIf",t.settingForm.controls.gender.errors.pattern)}}function vt(t,e){if(1&t&&(u.Rc(0,"div",7),u.Rc(1,"div",8),u.Rc(2,"p",9),u.Dd(3),u.cd(4,"translate"),u.Bd(5,mt,3,3,"span",29),u.Qc(),u.Rc(6,"div",11),u.Rc(7,"select",36),u.Rc(8,"option",13),u.Dd(9),u.cd(10,"translate"),u.Qc(),u.Rc(11,"option",37),u.Dd(12),u.cd(13,"translate"),u.Qc(),u.Rc(14,"option",38),u.Dd(15),u.cd(16,"translate"),u.Qc(),u.Qc(),u.Bd(17,ht,5,4,"div",15),u.Qc(),u.Qc(),u.Qc()),2&t){const t=u.bd(2);u.yc(3),u.Ed(u.dd(4,6,"common.gender.label")),u.yc(2),u.id("ngIf",t.isRequired("gender")),u.yc(4),u.Ed(u.dd(10,8,"common.gender.unselected")),u.yc(3),u.Ed(u.dd(13,10,"common.gender.man")),u.yc(3),u.Ed(u.dd(16,12,"common.gender.woman")),u.yc(2),u.id("ngIf",t.settingForm.controls.gender.invalid&&t.settingForm.controls.gender.touched)}}function yt(t,e){if(1&t&&(u.Rc(0,"option",25),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t){const t=e.$implicit;u.id("value",t.connectionType),u.yc(1),u.Fd(" ",u.dd(2,2,t.name),"")}}function Ft(t,e){if(1&t){const t=u.Sc();u.Rc(0,"button",39),u.Zc("click",(function(){return u.vd(t),u.bd(2).print()})),u.Dd(1),u.cd(2,"translate"),u.Qc()}2&t&&(u.yc(1),u.Ed(u.dd(2,1,"setting.testPrinting")))}function Rt(t,e){1&t&&(u.Rc(0,"p",28),u.Dd(1),u.cd(2,"translate"),u.Qc()),2&t&&(u.yc(1),u.Fd(" ",u.dd(2,1,"form.validation.required"),""))}function Qt(t,e){if(1&t&&(u.Rc(0,"div",26),u.Bd(1,Rt,3,3,"p",27),u.Qc()),2&t){const t=u.bd(2);u.yc(1),u.id("ngIf",t.settingForm.controls.printerIpAddress.errors.required)}}function bt(t,e){if(1&t){const t=u.Sc();u.Rc(0,"form",2),u.Rc(1,"div",3),u.Rc(2,"h2",4),u.Dd(3),u.cd(4,"translate"),u.Qc(),u.Mc(5,"p",5),u.cd(6,"translate"),u.Rc(7,"div",6),u.Rc(8,"div",7),u.Rc(9,"div",8),u.Rc(10,"p",9),u.Dd(11),u.cd(12,"translate"),u.Rc(13,"span",10),u.Dd(14),u.cd(15,"translate"),u.Qc(),u.Qc(),u.Rc(16,"div",11),u.Rc(17,"select",12),u.Zc("change",(function(){return u.vd(t),u.bd().changePosList()})),u.Rc(18,"option",13),u.Dd(19),u.cd(20,"translate"),u.Qc(),u.Bd(21,F,3,4,"option",14),u.Qc(),u.Bd(22,Q,2,1,"div",15),u.Qc(),u.Qc(),u.Qc(),u.Rc(23,"div",7),u.Rc(24,"div",8),u.Rc(25,"p",9),u.Dd(26),u.cd(27,"translate"),u.Qc(),u.Rc(28,"div",11),u.Rc(29,"select",16),u.Rc(30,"option",13),u.Dd(31),u.cd(32,"translate"),u.Qc(),u.Bd(33,b,2,2,"option",14),u.Qc(),u.Bd(34,B,2,1,"div",15),u.Qc(),u.Qc(),u.Qc(),u.Bd(35,C,9,5,"div",17),u.Bd(36,O,9,5,"div",17),u.Bd(37,$,9,5,"div",17),u.Bd(38,X,9,5,"div",17),u.Bd(39,ot,9,5,"div",17),u.Bd(40,lt,9,5,"div",17),u.Bd(41,vt,18,14,"div",17),u.Rc(42,"div",7),u.Rc(43,"div",8),u.Rc(44,"p",9),u.Dd(45),u.cd(46,"translate"),u.Qc(),u.Rc(47,"div",11),u.Rc(48,"select",18),u.Zc("change",(function(){return u.vd(t),u.bd().changePrinterType()})),u.Bd(49,yt,3,4,"option",14),u.Qc(),u.Bd(50,Ft,3,3,"button",19),u.Qc(),u.Qc(),u.Qc(),u.Rc(51,"div",7),u.Rc(52,"div",8),u.Rc(53,"p",9),u.Dd(54),u.cd(55,"translate"),u.Qc(),u.Rc(56,"div",11),u.Mc(57,"input",20),u.Bd(58,Qt,2,1,"div",15),u.Rc(59,"p",21),u.Dd(60),u.cd(61,"translate"),u.Qc(),u.Qc(),u.Qc(),u.Qc(),u.Qc(),u.Qc(),u.Rc(62,"div",22),u.Rc(63,"button",23),u.Zc("click",(function(){return u.vd(t),u.bd().onSubmit()})),u.cd(64,"async"),u.Dd(65),u.cd(66,"translate"),u.Qc(),u.Rc(67,"button",24),u.Dd(68),u.cd(69,"translate"),u.Qc(),u.Qc(),u.Qc()}if(2&t){const t=u.bd();u.id("formGroup",t.settingForm),u.yc(3),u.Ed(u.dd(4,29,"setting.title")),u.yc(2),u.id("innerHTML",u.dd(6,31,"setting.read"),u.wd),u.yc(6),u.Ed(u.dd(12,33,"common.theater")),u.yc(3),u.Ed(u.dd(15,35,"common.required")),u.yc(5),u.Ed(u.dd(20,37,"setting.unselected")),u.yc(2),u.id("ngForOf",t.theaters),u.yc(1),u.id("ngIf",t.settingForm.controls.theaterBranchCode.invalid&&t.settingForm.controls.theaterBranchCode.touched),u.yc(4),u.Ed(u.dd(27,39,"setting.pos")),u.yc(5),u.Ed(u.dd(32,41,"setting.unselected")),u.yc(2),u.id("ngForOf",t.posList),u.yc(1),u.id("ngIf",t.settingForm.controls.posId.invalid&&t.settingForm.controls.posId.touched),u.yc(1),u.id("ngIf",t.settingForm.controls.familyName),u.yc(1),u.id("ngIf",t.settingForm.controls.givenName),u.yc(1),u.id("ngIf",t.settingForm.controls.email),u.yc(1),u.id("ngIf",t.settingForm.controls.telephone),u.yc(1),u.id("ngIf",t.settingForm.controls.age),u.yc(1),u.id("ngIf",t.settingForm.controls.address),u.yc(1),u.id("ngIf",t.settingForm.controls.gender),u.yc(4),u.Ed(u.dd(46,43,"setting.printer")),u.yc(4),u.id("ngForOf",t.printers),u.yc(1),u.id("ngIf",t.settingForm.controls.printerType.value&&t.settingForm.controls.printerType.value!==t.connectionType.None),u.yc(4),u.Ed(u.dd(55,45,"setting.printerIpAddress")),u.yc(4),u.id("ngIf",t.settingForm.controls.printerIpAddress.invalid&&t.settingForm.controls.printerIpAddress.touched),u.yc(2),u.Fd(" ",u.dd(61,47,"setting.printerIpAddressDescription")," "),u.yc(3),u.id("disabled",u.dd(64,49,t.isLoading)),u.yc(2),u.Ed(u.dd(66,51,"setting.next")),u.yc(2),u.id("routerLink",t.environment.BASE_URL),u.yc(1),u.Ed(u.dd(69,53,"setting.prev"))}}class It{constructor(t,e,n,o,r,i,c,d){this.formBuilder=t,this.store=e,this.utilService=n,this.userService=o,this.masterService=r,this.orderService=i,this.translate=c,this.router=d,this.printers=m.i,this.connectionType=m.a,this.viewType=m.h,this.environment=Object(l.a)()}ngOnInit(){return y(this,void 0,void 0,(function*(){this.user=this.store.pipe(Object(s.m)(p.i)),this.error=this.store.pipe(Object(s.m)(p.b)),this.isLoading=this.store.pipe(Object(s.m)(p.c)),this.posList=[],this.theaters=[];try{this.theaters=yield this.masterService.getTheaters(),yield this.createSettlingForm()}catch(t){console.error(t),this.router.navigate(["/error"])}}))}createSettlingForm(){return y(this,void 0,void 0,(function*(){const t=this.environment.PROFILE;this.settingForm=this.formBuilder.group({theaterBranchCode:["",[d.r.required]],posId:[""],printerType:[m.a.None],printerIpAddress:[""]}),t.forEach(t=>{const e=[];void 0!==t.required&&t.required&&e.push(d.r.required),void 0!==t.maxLength&&e.push(d.r.maxLength(t.maxLength)),void 0!==t.minLength&&e.push(d.r.minLength(t.minLength)),void 0!==t.pattern&&e.push(d.r.pattern(t.pattern)),"email"===t.key&&e.push(d.r.email),"telephone"===t.key&&e.push(t=>{const e=t.root.get("telephone");if(null!==e){if(""===e.value)return null;const t=new RegExp(/^\+/).test(e.value)?a.c(e.value):a.c(e.value,"JP");if(void 0===t.phone)return{telephone:!0};if(!a.b(t))return{telephone:!0}}return null}),this.settingForm.addControl(t.key,new d.c(t.value,e))});const e=yield this.userService.getData();void 0!==e.theater&&(this.settingForm.controls.theaterBranchCode.setValue(e.theater.branchCode),this.changePosList()),void 0!==e.pos&&this.settingForm.controls.posId.setValue(e.pos.id);const n=e.customerContact;void 0!==n&&Object.keys(n).forEach(t=>{const e=n[t];void 0!==e&&void 0!==this.settingForm.controls[t]&&("telephone"!==t?this.settingForm.controls[t].setValue(e):this.settingForm.controls.telephone.setValue((new f.a).transform(e)))}),void 0!==e.printer&&(this.settingForm.controls.printerType.setValue(e.printer.connectionType),this.settingForm.controls.printerIpAddress.setValue(e.printer.ipAddress)),console.log(this.settingForm)}))}changePosList(){this.settingForm.controls.posId.setValue("");const t=this.settingForm.controls.theaterBranchCode.value;if(""===t)return void(this.posList=[]);const e=this.theaters.find(e=>e.branchCode===t);this.posList=void 0!==e?void 0===e.hasPOS?[]:e.hasPOS:[]}onSubmit(){return y(this,void 0,void 0,(function*(){if(Object.keys(this.settingForm.controls).forEach(t=>{this.settingForm.controls[t].markAsTouched()}),this.settingForm.invalid)this.utilService.openAlert({title:this.translate.instant("common.error"),body:this.translate.instant("setting.alert.validation")});else try{const t=this.settingForm.controls.theaterBranchCode.value,e=this.settingForm.controls.posId.value,n=this.theaters.find(e=>e.branchCode===t);if(void 0===n)throw new Error("theater not found").message;const o=void 0===n.hasPOS?n.hasPOS:n.hasPOS.find(t=>t.id===e);this.userService.updateAll({pos:o,theater:n,customerContact:{familyName:void 0===this.settingForm.controls.familyName?void 0:this.settingForm.controls.familyName.value,givenName:void 0===this.settingForm.controls.givenName?void 0:this.settingForm.controls.givenName.value,email:void 0===this.settingForm.controls.email?void 0:this.settingForm.controls.email.value,telephone:void 0===this.settingForm.controls.telephone?void 0:this.settingForm.controls.telephone.value,age:void 0===this.settingForm.controls.age?void 0:this.settingForm.controls.age.value,address:void 0===this.settingForm.controls.address?void 0:this.settingForm.controls.address.value,gender:void 0===this.settingForm.controls.gender?void 0:this.settingForm.controls.gender.value},printer:{ipAddress:this.settingForm.controls.printerIpAddress.value,connectionType:this.settingForm.controls.printerType.value}}),this.utilService.openAlert({title:this.translate.instant("common.complete"),body:this.translate.instant("setting.alert.success")})}catch(t){console.error(t)}}))}print(){return y(this,void 0,void 0,(function*(){const t={connectionType:this.settingForm.controls.printerType.value,ipAddress:this.settingForm.controls.printerIpAddress.value};try{yield this.orderService.print({orders:[],printer:t})}catch(e){console.error(e),this.utilService.openAlert({title:this.translate.instant("common.error"),body:`\n                <p class="mb-4">${this.translate.instant("setting.alert.print")}</p>\n                    <div class="p-3 bg-light-gray select-text">\n                    <code>${e}</code>\n                </div>`})}}))}changePrinterType(){this.settingForm.controls.printerType.value===m.a.StarBluetooth&&this.settingForm.controls.printerIpAddress.setValue(this.translate.instant("setting.starBluetoothAddress"))}isRequired(t){return void 0!==this.environment.PROFILE.find(e=>e.key===t&&e.required)}}It.\u0275fac=function(t){return new(t||It)(u.Lc(d.b),u.Lc(s.b),u.Lc(g.k),u.Lc(g.j),u.Lc(g.d),u.Lc(g.e),u.Lc(h.d),u.Lc(i.b))},It.\u0275cmp=u.Fc({type:It,selectors:[["app-setting"]],decls:2,vars:1,consts:[[1,"contents-width","mx-auto","px-3","py-5"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"mb-4"],[1,"text-large","mb-4","text-center","font-weight-bold"],[1,"mb-4","text-md-center",3,"innerHTML"],[1,"p-3","bg-white"],[1,"form-group"],[1,"row","align-items-center"],[1,"col-md-4","py-2","text-md-right"],[1,"badge","badge-danger","ml-2"],[1,"col-md-8"],["formControlName","theaterBranchCode",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],["formControlName","posId",1,"form-control"],["class","form-group",4,"ngIf"],["formControlName","printerType",1,"form-control",3,"change"],["type","button","class","btn btn-sm btn-primary py-2 mt-2",3,"click",4,"ngIf"],["type","text","formControlName","printerIpAddress","placeholder","0.0.0.0",1,"form-control"],[1,"text-small","mt-2"],[1,"buttons","mx-auto","text-center"],["type","submit",1,"btn","btn-primary","btn-block","py-3","mb-3",3,"disabled","click"],["type","button",1,"btn","btn-link",3,"routerLink"],[3,"value"],[1,"mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["class","badge badge-danger ml-2",4,"ngIf"],["type","text","formControlName","familyName","placeholder","\u30e2\u30fc\u30b7\u30e7\u30f3",1,"form-control"],["type","text","formControlName","givenName","placeholder","\u30d4\u30af\u30c1\u30e3\u30fc",1,"form-control"],["type","email","formControlName","email","placeholder","motionpicture@example.jp",1,"form-control"],["type","tel","formControlName","telephone","placeholder","0362778824",1,"form-control"],["type","tel","formControlName","age","placeholder","",1,"form-control"],["type","tel","formControlName","address","placeholder","",1,"form-control"],["formControlName","gender",1,"form-control"],["value","man"],["value","woman"],["type","button",1,"btn","btn-sm","btn-primary","py-2","mt-2",3,"click"]],template:function(t,e){1&t&&(u.Rc(0,"div",0),u.Bd(1,bt,70,55,"form",1),u.Qc()),2&t&&(u.yc(1),u.id("ngIf",e.settingForm))},directives:[o.l,d.t,d.k,d.e,d.q,d.j,d.d,d.n,d.s,o.k,d.a,i.c],pipes:[h.c,o.b,v.a],styles:[""]});const Bt=[{path:"",component:c.a,children:[{path:"",component:It}]}];class Dt{}Dt.\u0275mod=u.Jc({type:Dt}),Dt.\u0275inj=u.Ic({factory:function(t){return new(t||Dt)},imports:[[i.d.forChild(Bt)],i.d]});class qt{}qt.\u0275mod=u.Jc({type:qt}),qt.\u0275inj=u.Ic({factory:function(t){return new(t||qt)},imports:[[o.c,Dt,r.a]]})}}]);