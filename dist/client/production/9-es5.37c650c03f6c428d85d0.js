function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{k0tg:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthModule",(function(){return k}));var c=n("2kYt"),i=n("DSWM"),r=n("sEIs"),o=n("unpb"),s=n("PIN6"),a=n("espW"),u=n("EM62"),d=n("jWju"),l=function(){function e(t,n){_classCallCheck(this,e),this.cinerino=t,this.router=n,this.environment=Object(s.a)()}return _createClass(e,[{key:"ngOnInit",value:function(){return e=this,t=void 0,n=void 0,c=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cinerino.getServices();case 3:this.router.navigate([this.environment.BASE_URL]),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.cinerino.signIn();case 10:case"end":return e.stop()}}),e,this,[[0,6]])})),new(n||(n=Promise))((function(i,r){function o(e){try{a(c.next(e))}catch(t){r(t)}}function s(e){try{a(c.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}a((c=c.apply(e,t||[])).next())}));var e,t,n,c}}]),e}();l.\u0275fac=function(e){return new(e||l)(u.Lc(a.a),u.Lc(r.b))},l.\u0275cmp=u.Fc({type:l,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.authAction.CheckLogin",3,"isLoading"]],template:function(e,t){1&e&&u.Mc(0,"app-loading",0),2&e&&u.id("isLoading",!0)},directives:[d.a],styles:[""]});var p=n("sN6X"),h=n("cHUu"),f=n("mOXJ"),v=function(e,t,n,c){return new(n||(n=Promise))((function(i,r){function o(e){try{a(c.next(e))}catch(t){r(t)}}function s(e){try{a(c.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}a((c=c.apply(e,t||[])).next())}))};function m(e,t){if(1&e&&(u.Rc(0,"li",9),u.Rc(1,"div",10),u.Rc(2,"div",11),u.Rc(3,"div",12),u.Rc(4,"div",13),u.Mc(5,"img",14),u.Qc(),u.Rc(6,"p",15),u.Dd(7),u.Qc(),u.Qc(),u.Rc(8,"a",16),u.Dd(9,"\u9078\u629e"),u.Qc(),u.Qc(),u.Qc(),u.Qc()),2&e){var n=t.$implicit;u.yc(5),u.id("src",n.logo,u.xd)("alt",n.name),u.yc(2),u.Ed(n.name),u.yc(1),u.id("href","/?projectId="+n.id,u.xd)}}function g(e,t){if(1&e){var n=u.Sc();u.Rc(0,"div",2),u.Rc(1,"h2",3),u.Dd(2,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e"),u.Qc(),u.Rc(3,"p",4),u.Dd(4,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),u.Qc(),u.Rc(5,"ul",5),u.Bd(6,m,10,4,"li",6),u.cd(7,"async"),u.Qc(),u.Rc(8,"div",7),u.Rc(9,"button",8),u.Zc("click",(function(){return u.vd(n),u.bd().signOut()})),u.Dd(10,"\u623b\u308b"),u.Qc(),u.Qc(),u.Qc()}if(2&e){var c,i=u.bd(),r=null==(c=u.dd(7,1,i.master))?null:c.projects;u.yc(6),u.id("ngForOf",r)}}var w=function(){function e(t,n,c,i){_classCallCheck(this,e),this.store=t,this.masterService=n,this.utilService=c,this.cinerinoService=i}return _createClass(e,[{key:"ngOnInit",value:function(){return v(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=this.store.pipe(Object(p.m)(f.c)),this.master=this.store.pipe(Object(p.m)(f.d)),this.projects=[],e.next=5,this.masterService.getProjects();case 5:return this.utilService.loadStart({process:"load"}),e.next=8,this.masterService.getData();case 8:1!==(t=e.sent.projects).length?this.utilService.loadEnd():location.href="/?projectId="+t[0].id;case 10:case"end":return e.stop()}}),e,this)})))}},{key:"signOut",value:function(){return v(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cinerinoService.getServices();case 3:return e.next=5,this.cinerinoService.signOut();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}}]),e}();w.\u0275fac=function(e){return new(e||w)(u.Lc(p.b),u.Lc(h.e),u.Lc(h.l),u.Lc(h.b))},w.\u0275cmp=u.Fc({type:w,selectors:[["app-auth-signin"]],decls:4,vars:6,consts:[["class","contents-width mx-auto px-3 py-5",4,"ngIf"],["process","process.masterAction.GetProjects",3,"isLoading"],[1,"contents-width","mx-auto","px-3","py-5"],[1,"text-large","mb-4","text-center","font-weight-bold"],[1,"mb-4","text-md-center"],[1,"d-md-flex","flex-wrap","mb-4"],["class","my-md-2 mb-3",4,"ngFor","ngForOf"],[1,"buttons","mx-auto","text-center"],["type","button",1,"btn","btn-link",3,"click"],[1,"my-md-2","mb-3"],[1,"card","mx-md-2","h-100"],[1,"card-body"],[1,"d-flex","align-items-center","mb-4"],[1,"mr-2"],[1,"logo",3,"src","alt"],[1,"font-weight-bold"],[1,"btn","btn-primary","btn-block","py-3",3,"href"]],template:function(e,t){if(1&e&&(u.Bd(0,g,11,3,"div",0),u.cd(1,"async"),u.Mc(2,"app-loading",1),u.cd(3,"async")),2&e){var n,c=(null==(n=u.dd(1,2,t.master))?null:n.projects.length)>0;u.id("ngIf",c),u.yc(2),u.id("isLoading",u.dd(3,4,t.isLoading))}},directives:[c.l,d.a,c.k],pipes:[c.b],styles:[".logo[_ngcontent-%COMP%]{width:3rem}@media (max-width:767.98px){.logo[_ngcontent-%COMP%]{width:2rem}}.text-overflow[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;width:100%;text-overflow:ellipsis}li[_ngcontent-%COMP%]{width:33%}@media (max-width:767.98px){li[_ngcontent-%COMP%]{width:auto}}.btn-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});var y=function(){function e(t,n,c){_classCallCheck(this,e),this.router=t,this.purchaseService=n,this.orderService=c}return _createClass(e,[{key:"ngOnInit",value:function(){this.orderService.delete(),this.purchaseService.delete(),this.router.navigate(["/"])}},{key:"selectProject",value:function(){}}]),e}();y.\u0275fac=function(e){return new(e||y)(u.Lc(r.b),u.Lc(h.g),u.Lc(h.f))},y.\u0275cmp=u.Fc({type:y,selectors:[["app-auth-signout"]],decls:1,vars:1,consts:[["process","process.authAction.Logout",3,"isLoading"]],template:function(e,t){1&e&&u.Mc(0,"app-loading",0),2&e&&u.id("isLoading",!0)},directives:[d.a],styles:[""]});var b=[{path:"",children:[{path:"",component:l},{path:"signin",canActivate:[o.a],component:w},{path:"signout",component:y}]}],x=function e(){_classCallCheck(this,e)};x.\u0275mod=u.Jc({type:x}),x.\u0275inj=u.Ic({factory:function(e){return new(e||x)},imports:[[r.d.forChild(b)],r.d]});var k=function e(){_classCallCheck(this,e)};k.\u0275mod=u.Jc({type:k}),k.\u0275inj=u.Ic({factory:function(e){return new(e||k)},imports:[[c.c,x,i.a]]})}}]);