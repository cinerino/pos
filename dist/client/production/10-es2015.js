(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{k0tg:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthModule",(function(){return S}));var c=n("2kYt"),i=n("DSWM"),o=n("sEIs"),r=n("unpb"),s=n("PIN6"),a=n("espW"),d=n("EM62"),p=n("jWju"),l=function(t,e,n,c){return new(n||(n=Promise))((function(i,o){function r(t){try{a(c.next(t))}catch(e){o(e)}}function s(t){try{a(c.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}a((c=c.apply(t,e||[])).next())}))};class u{constructor(t,e){this.cinerino=t,this.router=e,this.environment=Object(s.a)()}ngOnInit(){return l(this,void 0,void 0,(function*(){try{yield this.cinerino.getServices(),this.router.navigate([this.environment.BASE_URL])}catch(t){yield this.cinerino.signIn()}}))}}u.\u0275fac=function(t){return new(t||u)(d.Lc(a.a),d.Lc(o.b))},u.\u0275cmp=d.Fc({type:u,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.authAction.CheckLogin",3,"isLoading"]],template:function(t,e){1&t&&d.Mc(0,"app-loading",0),2&t&&d.id("isLoading",!0)},directives:[p.a],styles:[""]});var h=n("sN6X"),m=n("cHUu"),f=n("mOXJ"),g=function(t,e,n,c){return new(n||(n=Promise))((function(i,o){function r(t){try{a(c.next(t))}catch(e){o(e)}}function s(t){try{a(c.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}a((c=c.apply(t,e||[])).next())}))};function v(t,e){if(1&t&&(d.Rc(0,"li",9),d.Rc(1,"div",10),d.Rc(2,"div",11),d.Rc(3,"div",12),d.Rc(4,"div",13),d.Mc(5,"img",14),d.Qc(),d.Rc(6,"p",15),d.Dd(7),d.Qc(),d.Qc(),d.Rc(8,"a",16),d.Dd(9,"\u9078\u629e"),d.Qc(),d.Qc(),d.Qc(),d.Qc()),2&t){const t=e.$implicit;d.yc(5),d.id("src",t.logo,d.xd)("alt",t.name),d.yc(2),d.Ed(t.name),d.yc(1),d.id("href","/?projectId="+t.id,d.xd)}}function y(t,e){if(1&t){const t=d.Sc();d.Rc(0,"div",2),d.Rc(1,"h2",3),d.Dd(2,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e"),d.Qc(),d.Rc(3,"p",4),d.Dd(4,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),d.Qc(),d.Rc(5,"ul",5),d.Bd(6,v,10,4,"li",6),d.cd(7,"async"),d.Qc(),d.Rc(8,"div",7),d.Rc(9,"button",8),d.Zc("click",(function(){return d.vd(t),d.bd().signOut()})),d.Dd(10,"\u623b\u308b"),d.Qc(),d.Qc(),d.Qc()}if(2&t){const t=d.bd();d.yc(6),d.id("ngForOf",d.dd(7,1,t.master).projects)}}class b{constructor(t,e,n,c){this.store=t,this.masterService=e,this.utilService=n,this.cinerinoService=c}ngOnInit(){return g(this,void 0,void 0,(function*(){this.isLoading=this.store.pipe(Object(h.m)(f.c)),this.master=this.store.pipe(Object(h.m)(f.d)),this.projects=[],yield this.masterService.getProjects(),this.utilService.loadStart({process:"load"});const t=(yield this.masterService.getData()).projects;1!==t.length?this.utilService.loadEnd():location.href=`/?projectId=${t[0].id}`}))}signOut(){return g(this,void 0,void 0,(function*(){try{yield this.cinerinoService.getServices(),yield this.cinerinoService.signOut()}catch(t){console.error(t)}}))}}b.\u0275fac=function(t){return new(t||b)(d.Lc(h.b),d.Lc(m.d),d.Lc(m.k),d.Lc(m.b))},b.\u0275cmp=d.Fc({type:b,selectors:[["app-auth-signin"]],decls:4,vars:6,consts:[["class","contents-width mx-auto px-3 py-5",4,"ngIf"],["process","process.masterAction.GetProjects",3,"isLoading"],[1,"contents-width","mx-auto","px-3","py-5"],[1,"text-large","mb-4","text-center","font-weight-bold"],[1,"mb-4","text-md-center"],[1,"d-md-flex","flex-wrap","mb-4"],["class","my-md-2 mb-3",4,"ngFor","ngForOf"],[1,"buttons","mx-auto","text-center"],["type","button",1,"btn","btn-link",3,"click"],[1,"my-md-2","mb-3"],[1,"card","mx-md-2","h-100"],[1,"card-body"],[1,"d-flex","align-items-center","mb-4"],[1,"mr-2"],[1,"logo",3,"src","alt"],[1,"font-weight-bold"],[1,"btn","btn-primary","btn-block","py-3",3,"href"]],template:function(t,e){1&t&&(d.Bd(0,y,11,3,"div",0),d.cd(1,"async"),d.Mc(2,"app-loading",1),d.cd(3,"async")),2&t&&(d.id("ngIf",d.dd(1,2,e.master).projects.length>0),d.yc(2),d.id("isLoading",d.dd(3,4,e.isLoading)))},directives:[c.l,p.a,c.k],pipes:[c.b],styles:[".logo[_ngcontent-%COMP%]{width:3rem}@media (max-width:767.98px){.logo[_ngcontent-%COMP%]{width:2rem}}.text-overflow[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;width:100%;text-overflow:ellipsis}li[_ngcontent-%COMP%]{width:33%}@media (max-width:767.98px){li[_ngcontent-%COMP%]{width:auto}}.btn-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});class w{constructor(t,e,n){this.router=t,this.purchaseService=e,this.orderService=n}ngOnInit(){this.orderService.delete(),this.purchaseService.delete(),this.router.navigate(["/"])}selectProject(){}}w.\u0275fac=function(t){return new(t||w)(d.Lc(o.b),d.Lc(m.f),d.Lc(m.e))},w.\u0275cmp=d.Fc({type:w,selectors:[["app-auth-signout"]],decls:1,vars:1,consts:[["process","process.authAction.Logout",3,"isLoading"]],template:function(t,e){1&t&&d.Mc(0,"app-loading",0),2&t&&d.id("isLoading",!0)},directives:[p.a],styles:[""]});const x=[{path:"",children:[{path:"",component:u},{path:"signin",canActivate:[r.a],component:b},{path:"signout",component:w}]}];class L{}L.\u0275mod=d.Jc({type:L}),L.\u0275inj=d.Ic({factory:function(t){return new(t||L)},imports:[[o.d.forChild(x)],o.d]});class S{}S.\u0275mod=d.Jc({type:S}),S.\u0275inj=d.Ic({factory:function(t){return new(t||S)},imports:[[c.c,L,i.a]]})}}]);