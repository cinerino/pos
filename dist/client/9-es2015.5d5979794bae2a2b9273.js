(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{k0tg:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthModule",(function(){return P}));var c=n("2kYt"),i=n("DSWM"),o=n("sEIs"),r=n("unpb"),s=n("PIN6"),a=n("espW"),d=n("EM62"),l=n("jWju"),u=function(t,e,n,c){return new(n||(n=Promise))((function(i,o){function r(t){try{a(c.next(t))}catch(e){o(e)}}function s(t){try{a(c.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}a((c=c.apply(t,e||[])).next())}))};class p{constructor(t,e){this.cinerino=t,this.router=e,this.environment=Object(s.a)()}ngOnInit(){return u(this,void 0,void 0,(function*(){try{yield this.cinerino.getServices(),this.router.navigate([this.environment.BASE_URL])}catch(t){yield this.cinerino.signIn()}}))}}p.\u0275fac=function(t){return new(t||p)(d.Jc(a.a),d.Jc(o.b))},p.\u0275cmp=d.Dc({type:p,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.authAction.CheckLogin",3,"isLoading"]],template:function(t,e){1&t&&d.Kc(0,"app-loading",0),2&t&&d.ed("isLoading",!0)},directives:[l.a],styles:[""]});var h=n("sN6X"),m=n("cHUu"),g=n("mOXJ"),f=function(t,e,n,c){return new(n||(n=Promise))((function(i,o){function r(t){try{a(c.next(t))}catch(e){o(e)}}function s(t){try{a(c.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}a((c=c.apply(t,e||[])).next())}))};function v(t,e){if(1&t&&(d.Pc(0,"li",10),d.Pc(1,"div",11),d.Pc(2,"div",12),d.Pc(3,"div",13),d.Kc(4,"div",14),d.Pc(5,"p",15),d.zd(6),d.Oc(),d.Oc(),d.Pc(7,"a",16),d.zd(8,"\u9078\u629e"),d.Oc(),d.Oc(),d.Oc(),d.Oc()),2&t){const t=e.$implicit;d.wc(4),d.wd("background-image","url("+t.logo+")"),d.wc(2),d.Ad(t.name),d.wc(1),d.ed("href","/?projectId="+t.id,d.td)}}function b(t,e){if(1&t&&(d.Pc(0,"ul",8),d.xd(1,v,9,4,"li",9),d.Zc(2,"async"),d.Oc()),2&t){const t=d.Yc();var n;const e=null==(n=d.ad(2,1,t.master))?null:n.projects;d.wc(1),d.ed("ngForOf",e)}}class w{constructor(t,e,n,c){this.store=t,this.masterService=e,this.utilService=n,this.cinerinoService=c}ngOnInit(){return f(this,void 0,void 0,(function*(){this.isLoading=this.store.pipe(Object(h.m)(g.c)),this.master=this.store.pipe(Object(h.m)(g.d)),this.projects=[],yield this.masterService.getProjects(),this.utilService.loadStart({process:"load"});const t=(yield this.masterService.getData()).projects;1!==t.length?this.utilService.loadEnd():location.href="/?projectId="+t[0].id}))}signOut(){return f(this,void 0,void 0,(function*(){try{yield this.cinerinoService.getServices(),yield this.cinerinoService.signOut()}catch(t){console.error(t)}}))}}w.\u0275fac=function(t){return new(t||w)(d.Jc(h.b),d.Jc(m.d),d.Jc(m.f),d.Jc(m.b))},w.\u0275cmp=d.Dc({type:w,selectors:[["app-auth-signin"]],decls:13,vars:6,consts:[[1,"contents-width","mx-auto","px-3","py-5"],[1,"text-large","mb-4","text-center","font-weight-bold"],[1,"mb-4","text-md-center"],[1,"container","px-0"],["class","row flex-wrap mb-4",4,"ngIf"],[1,"buttons","mx-auto","text-center"],["type","button",1,"btn","btn-outline-primary","btn-block","py-3",3,"click"],["process","process.masterAction.GetProjects",3,"isLoading"],[1,"row","flex-wrap","mb-4"],["class","col-12 col-md-4 my-md-3 mb-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","my-md-3","mb-3"],[1,"card","h-100"],[1,"card-body"],[1,"d-flex","align-items-center","mb-4"],[1,"logo"],[1,"ml-2","font-weight-bold","text-small"],[1,"btn","btn-primary","btn-block","py-3",3,"href"]],template:function(t,e){if(1&t&&(d.Pc(0,"div",0),d.Pc(1,"h2",1),d.zd(2,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e"),d.Oc(),d.Pc(3,"p",2),d.zd(4,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),d.Oc(),d.Pc(5,"div",3),d.xd(6,b,3,3,"ul",4),d.Zc(7,"async"),d.Oc(),d.Pc(8,"div",5),d.Pc(9,"button",6),d.Wc("click",(function(){return e.signOut()})),d.zd(10,"\u30ed\u30b0\u30a2\u30a6\u30c8"),d.Oc(),d.Oc(),d.Oc(),d.Kc(11,"app-loading",7),d.Zc(12,"async")),2&t){var n;const t=(null==(n=d.ad(7,2,e.master))?null:n.projects.length)>0;d.wc(6),d.ed("ngIf",t),d.wc(5),d.ed("isLoading",d.ad(12,4,e.isLoading))}},directives:[c.l,l.a,c.k],pipes:[c.b],styles:[".logo[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat;background-position:50%;width:3rem;height:3rem}@media (max-width:767.98px){.logo[_ngcontent-%COMP%]{width:2rem;height:2rem}}.text-overflow[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;width:100%;text-overflow:ellipsis}.btn-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});class y{constructor(t,e){this.router=t,this.actionService=e}ngOnInit(){this.actionService.order.delete(),this.actionService.purchase.delete(),this.router.navigate(["/"])}selectProject(){}}y.\u0275fac=function(t){return new(t||y)(d.Jc(o.b),d.Jc(m.a))},y.\u0275cmp=d.Dc({type:y,selectors:[["app-auth-signout"]],decls:1,vars:1,consts:[["process","process.authAction.Logout",3,"isLoading"]],template:function(t,e){1&t&&d.Kc(0,"app-loading",0),2&t&&d.ed("isLoading",!0)},directives:[l.a],styles:[""]});const O=[{path:"",children:[{path:"",component:p},{path:"signin",canActivate:[r.a],component:w},{path:"signout",component:y}]}];class x{}x.\u0275mod=d.Hc({type:x}),x.\u0275inj=d.Gc({factory:function(t){return new(t||x)},imports:[[o.d.forChild(O)],o.d]});class P{}P.\u0275mod=d.Hc({type:P}),P.\u0275inj=d.Gc({factory:function(t){return new(t||P)},imports:[[c.c,x,i.a]]})}}]);