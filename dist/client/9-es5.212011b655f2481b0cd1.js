!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function n(t,n,c){return n&&e(t.prototype,n),c&&e(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{k0tg:function(e,c,i){"use strict";i.r(c),i.d(c,"AuthModule",(function(){return k}));var r=i("2kYt"),o=i("DSWM"),a=i("sEIs"),s=i("unpb"),u=i("PIN6"),d=i("espW"),p=i("EM62"),l=i("jWju"),h=function(){function e(n,c){t(this,e),this.cinerino=n,this.router=c,this.environment=Object(u.a)()}return n(e,[{key:"ngOnInit",value:function(){return t=this,e=void 0,n=void 0,c=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cinerino.getServices();case 3:this.router.navigate([this.environment.BASE_URL]),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,this.cinerino.signIn();case 10:case"end":return t.stop()}}),t,this,[[0,6]])})),new(n||(n=Promise))((function(i,r){function o(t){try{s(c.next(t))}catch(e){r(e)}}function a(t){try{s(c.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}s((c=c.apply(t,e||[])).next())}));var t,e,n,c}}]),e}();h.\u0275fac=function(t){return new(t||h)(p.Jc(d.a),p.Jc(a.b))},h.\u0275cmp=p.Dc({type:h,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.authAction.CheckLogin",3,"isLoading"]],template:function(t,e){1&t&&p.Kc(0,"app-loading",0),2&t&&p.ed("isLoading",!0)},directives:[l.a],styles:[""]});var f=i("sN6X"),m=i("cHUu"),v=i("mOXJ"),g=function(t,e,n,c){return new(n||(n=Promise))((function(i,r){function o(t){try{s(c.next(t))}catch(e){r(e)}}function a(t){try{s(c.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}s((c=c.apply(t,e||[])).next())}))};function w(t,e){if(1&t&&(p.Pc(0,"li",9),p.Pc(1,"div",10),p.Pc(2,"div",11),p.Pc(3,"div",12),p.Pc(4,"div",13),p.Kc(5,"img",14),p.Oc(),p.Pc(6,"p",15),p.zd(7),p.Oc(),p.Oc(),p.Pc(8,"a",16),p.zd(9,"\u9078\u629e"),p.Oc(),p.Oc(),p.Oc(),p.Oc()),2&t){var n=e.$implicit;p.wc(5),p.ed("src",n.logo,p.td)("alt",n.name),p.wc(2),p.Ad(n.name),p.wc(1),p.ed("href","/?projectId="+n.id,p.td)}}function b(t,e){if(1&t&&(p.Pc(0,"ul",7),p.xd(1,w,10,4,"li",8),p.Zc(2,"async"),p.Oc()),2&t){var n,c=p.Yc(),i=null==(n=p.ad(2,1,c.master))?null:n.projects;p.wc(1),p.ed("ngForOf",i)}}var y=function(){function e(n,c,i,r){t(this,e),this.store=n,this.masterService=c,this.utilService=i,this.cinerinoService=r}return n(e,[{key:"ngOnInit",value:function(){return g(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=this.store.pipe(Object(f.m)(v.c)),this.master=this.store.pipe(Object(f.m)(v.d)),this.projects=[],t.next=5,this.masterService.getProjects();case 5:return this.utilService.loadStart({process:"load"}),t.next=8,this.masterService.getData();case 8:1!==(e=t.sent.projects).length?this.utilService.loadEnd():location.href="/?projectId="+e[0].id;case 10:case"end":return t.stop()}}),t,this)})))}},{key:"signOut",value:function(){return g(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cinerinoService.getServices();case 3:return t.next=5,this.cinerinoService.signOut();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}();y.\u0275fac=function(t){return new(t||y)(p.Jc(f.b),p.Jc(m.d),p.Jc(m.f),p.Jc(m.b))},y.\u0275cmp=p.Dc({type:y,selectors:[["app-auth-signin"]],decls:12,vars:6,consts:[[1,"contents-width","mx-auto","px-3","py-5"],[1,"text-large","mb-4","text-center","font-weight-bold"],[1,"mb-4","text-md-center"],["class","d-md-flex flex-wrap mb-4",4,"ngIf"],[1,"buttons","mx-auto","text-center"],["type","button",1,"btn","btn-outline-primary","btn-block","py-3",3,"click"],["process","process.masterAction.GetProjects",3,"isLoading"],[1,"d-md-flex","flex-wrap","mb-4"],["class","my-md-2 mb-3",4,"ngFor","ngForOf"],[1,"my-md-2","mb-3"],[1,"card","mx-md-2","h-100"],[1,"card-body"],[1,"d-flex","align-items-center","mb-4"],[1,"mr-2"],[1,"logo",3,"src","alt"],[1,"font-weight-bold","text-small"],[1,"btn","btn-primary","btn-block","py-3",3,"href"]],template:function(t,e){if(1&t&&(p.Pc(0,"div",0),p.Pc(1,"h2",1),p.zd(2,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e"),p.Oc(),p.Pc(3,"p",2),p.zd(4,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),p.Oc(),p.xd(5,b,3,3,"ul",3),p.Zc(6,"async"),p.Pc(7,"div",4),p.Pc(8,"button",5),p.Wc("click",(function(){return e.signOut()})),p.zd(9,"\u30ed\u30b0\u30a2\u30a6\u30c8"),p.Oc(),p.Oc(),p.Oc(),p.Kc(10,"app-loading",6),p.Zc(11,"async")),2&t){var n,c=(null==(n=p.ad(6,2,e.master))?null:n.projects.length)>0;p.wc(5),p.ed("ngIf",c),p.wc(5),p.ed("isLoading",p.ad(11,4,e.isLoading))}},directives:[r.l,l.a,r.k],pipes:[r.b],styles:[".logo[_ngcontent-%COMP%]{width:3rem}@media (max-width:767.98px){.logo[_ngcontent-%COMP%]{width:2rem}}.text-overflow[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;width:100%;text-overflow:ellipsis}li[_ngcontent-%COMP%]{width:33%}@media (max-width:767.98px){li[_ngcontent-%COMP%]{width:auto}}.btn-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});var x=function(){function e(n,c){t(this,e),this.router=n,this.actionService=c}return n(e,[{key:"ngOnInit",value:function(){this.actionService.order.delete(),this.actionService.purchase.delete(),this.router.navigate(["/"])}},{key:"selectProject",value:function(){}}]),e}();x.\u0275fac=function(t){return new(t||x)(p.Jc(a.b),p.Jc(m.a))},x.\u0275cmp=p.Dc({type:x,selectors:[["app-auth-signout"]],decls:1,vars:1,consts:[["process","process.authAction.Logout",3,"isLoading"]],template:function(t,e){1&t&&p.Kc(0,"app-loading",0),2&t&&p.ed("isLoading",!0)},directives:[l.a],styles:[""]});var O=[{path:"",children:[{path:"",component:h},{path:"signin",canActivate:[s.a],component:y},{path:"signout",component:x}]}],P=function e(){t(this,e)};P.\u0275mod=p.Hc({type:P}),P.\u0275inj=p.Gc({factory:function(t){return new(t||P)},imports:[[a.d.forChild(O)],a.d]});var k=function e(){t(this,e)};k.\u0275mod=p.Hc({type:k}),k.\u0275inj=p.Gc({factory:function(t){return new(t||k)},imports:[[r.c,P,o.a]]})}}])}();